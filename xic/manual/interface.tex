% -----------------------------------------------------------------------------
% Xic Manual
% (C) Copyright 2013, Whiteley Research Inc., Sunnyvale CA
% $Id: interface.tex,v 1.25 2017/03/22 07:29:56 stevew Exp $
% -----------------------------------------------------------------------------

% -----------------------------------------------------------------------------
% xic:commands 032413
\chapter{Graphical Interface, Commands and Operations}
\index{screen layout}

Figure \ref{screenfig} shows a view of the {\Xic} graphical user
interface.  There is generally a single large window present when
{\Xic} first starts.  The window can be repositioned, and the size of
the window can be adjusted through the window manager methods.

\begin{figure}
\caption{\label{screenfig}Default {\Xic} screen layout.}
\begin{center}
\epsfbox{images/mainwin.eps}
\end{center}
\end{figure}

The column of buttons along the left is the ``side menu'' and is
visible when the current cell is being edited.  To the right is the
scrollable layer table, which displays the layers supported by the
process.  If the {\et XIC\_MENU\_RIGHT} variable is set in the
environment when {\Xic} starts, the layer table and side menu will be
located along the right of the window.  If the {\et
XIC\_HORIZ\_BUTTONS} environment variable is set, the ``side menu''
buttons will actually be arrayed across the top of the window.
The side menu is only displayed when editing.  The layer table may
also be invisible, as the user has this option.

The ``top menu'' contains buttons and other controls and displays,
located near the top of the window, below the main menu bar.  The
prompt line, where the user interacts textually, is just below the
main drawing window.  To the left of this is the ``keys pressed''
area.  Below this is the status line, which displays information about
the program state.

These features will be fully described in the sections that follow.

{\Xic} has eleven drop-down menus, arrayed in a menu bar which
extends across the top of the main application window.

\begin{tabular}{|l|p{4in}|} \hline
\cb File Menu &
    Commands to open, save, and list files and cells.  This menu
    also contains the printer interface.\\ \hline
\cb Cell Menu &
    Commands to access and manipulate the database of cells in memory.\\ \hline
\cb Edit Menu &
    Commands which are used to modify the current design.\\ \hline
\cb Modify Menu &
    Supplemental commands for layout modification.\\ \hline
\cb View Menu &
    Commands which affect the presentation of the
    current design, including the selection of physical and 
    electrical (schematic) modes.\\ \hline
\cb Attributes Menu &
    Commands which affect the presentation of the design,  
    such as the colors used.\\ \hline
\cb Convert Menu &
    Commands for importing and exporting designs to various
    non-native file formats.\\ \hline
\cb DRC Menu &
    Commands associated with design rule checking.\\ \hline
\cb Extract Menu &
    Commands associated with the extraction of electrical 
    information and netlists from the physical layout, and 
    layout versus schematic checking.\\ \hline
\cb User Menu &
    The script debugger, and the buttons that correspond 
    to user-generated scripts.\\ \hline
\cb Help Menu &
    Documentation and the entry into the help system.\\ \hline
\end{tabular}

If the mouse button is stationary over a menu button for a second or
two, a ``tooltip'' will appear.  This is a transient window that
contains a sentence describing the function of the command.  This also
provides the internal name for the command.  Every command has an
internal name of five characters or fewer.  This name can be used as a
keyboard accelerator, and as back-door input to the help system.  The
help keyword for the command is ``{\vt xic:}'' followed by the command
name, for example ``{\vt xic:prpty}''.  Typing a question mark (`{\vt
?}') into {\Xic} followed by the keyword will display the help text
for the command.

% -----------------------------------------------------------------------------
% promptline 022316
\section{Prompt Line}
\index{prompt line}
The prompt line is a single-line dialog box just below the main
drawing window.  Messages and prompts are displayed in this area, as
well as textual input to {\Xic}.

The prompt line has two operating modes.  In the normal mode, text is
read-only.  Messages appear on the prompt line to provide information
and feedback in many commands.  This is ``non-editing'' mode.

In non-editing mode, text can be selected by dragging with button 1
held down.  Selected text is available for export to other windows, as
the primary selection (see \ref{clipboard}).

The prompt line can handle more text than is visible in the display
area.  If a string is longer than the display area, initially the
rightmost part of the message string will be shown.  Clicking in the
prompt area with button 1 near the left border will show the start of
the string.  Clicking in the prompt area near the right border will
show the end of the string.  Clicking in the interior of the prompt
area will show the middle part of the string, proportionate to click
location.

\subsection{Prompt Line Editing}
\label{pledit}

\index{keyboard!Backspace}
\index{keyboard!Ctrl-a}
\index{keyboard!Ctrl-e}
\index{keyboard!Ctrl-k}
\index{keyboard!Ctrl-p}
\index{keyboard!Ctrl-u}
\index{keyboard!Ctrl-v}
\index{keyboard!Esc}
Some commands will convert the prompt line to editing mode.  In this
mode, the background color changes, and text typed by the user will
appear in the prompt line window.  Keys pressed when the main window
has focus are directed to the prompt line.

When editing, the behavior is slightly different depending on whether
the mouse pointer is over the prompt line area, or not.  This is (or
should be) true whether or not the window manager is click-to-focus or
focus-follows-mouse.  When the mouse pointer is over the prompt line,
which gives the prompt line complete focus, the prompt line background
color may be different from when the pointer is elsewhere.  When the
pointer is elsewhere, but the main window has focus, key presses are
still sent to the prompt line, but there are a few keys, such as the
arrow keys, which will operate on the drawing window rather than the
prompt line.

When prompt line editing starts, the mouse pointer is ``warped'' to
the left edge of the prompt line, providing full focus automatically. 
With the mouse pointer over the prompt line:
\begin{enumerate}
\item{The {\kb Numeric Keypad +} and {\kb Numeric Keypad -} keys will
send a normal {\vt +} or {\vt -} character and not zoom the drawing
window display.}

\item{The arrow keys will move the prompt line text cursor, or perform
some other operation specifically for text editing, depending on the
command.  These will not pan the display.}
\end{enumerate}

With the mouse pointer not over the prompt line, the keys mentioned
will have their normal zoom and pan functionality.  In text edit mode,
key bindings from the table below are available, provisionally for
the arrow keys as explained.

\begin{tabular}{lp{4in}}\\
\multicolumn{2}{l}{\bf Prompt Line Editor Bindings}\vspace{1.5ex}\\
\kb   Ctrl-a & Move cursor to beginning of line\\
\kb   Ctrl-e & Move cursor to end of line\\
\kb   Ctrl-k & Delete to end of line\\
\kb   Ctrl-p & Paste primary selection at cursor\\
\kb   Ctrl-u & Delete current line\\
\kb   Ctrl-v & Paste clipboard at cursor\\
\kb   Left       & Move cursor left one character\\
\kb   Right      & Move cursor right one character\\
\kb   Page Down  & Move cursor to right by half a line, scroll if necessary\\
\kb   Page Up    & Move cursor to left by half a line, scroll if necessary\\
\kb   Backspace  & Delete previous character\\
\kb   Delete     & Delete next character\\
\kb   Esc        & Exit editing, abort operation\\
\kb   Enter      & Terminate editing\\
\end{tabular}

The {\kb Backspace} key deletes the character or hypertext reference
to the left of the cursor and moves the cursor to the left, and {\kb
Delete} deletes the object at the cursor.  {\kb Ctrl-u} deletes the
entire line.  {\kb Ctrl-k} will delete the character at the cursor and
all characters to the right.  {\kb Ctrl-a} and {\kb Ctrl-e} move the
cursor to the beginning or end of the line, respectively.  The line
will scroll to the left or right if longer that the available space,
when the cursor hits the left and right boundaries.  The {\kb Esc} key
exits edit mode, discarding the input.  The {\kb Enter} key exits edit
mode, saving the input.  The cursor can be at any position when {\kb
Enter} is pressed.

Double-clicking with button 1 in the prompt line area will effectively
send an {\kb Enter} character, terminating editing.  Note that a
double click requires two rapid clicks, if too slow two single-click
events will occur. 

\index{unicode}
Special characters can be entered using the Unicode escape {\kb
Ctrl-u}.  The sequence starts by pressing {\kb Ctrl-u}, then entering
hex digits representing the character code, and is terminated with a
space character or {\kb Enter}.  The Unicode coding can be obtained
from tables provided on the internet, or from applications such as
KCharSelect which is part of the KDE desktop.  These are generally
expressed as ``{\vt U + xxxx}'' where the {\vt xxxx} is a hex number. 
It is the hex number that should be entered following {\kb Ctrl-u}. 
For example, the code for ${\pi}$ (pi) is {\vt 03c0}.  Note that
special characters can also be selected and copied, or in some cases
dragged and dropped, from another window.

There is no limit on the number of characters in the string, which
can be much longer than the display space.  The {\kb Page Down} and
{\kb Page Up} keys move the cursor to the right or left (respectively)
by half the number of characters displayable in the prompt area, and
will scroll if necessary to keep the cursor visible.

The {\kb Ctrl-p} and {\kb Ctrl-v} keys paste text from the primary
selection and clipboard, respectively, at the cursor.  Under Windows,
these actions are identical, text is obtained from the Windows
clipboard.  Under Unix/Linux, clicking with button 2 will also paste
the primary selection, and button 3 will also paste the clipboard. 
The primary selection is generally the most recently selected text in
any window, the clipboard contains text that was explicitly saved via
an operation in a text entry window.

While in editing mode, the keypress display to the left of the prompt
line is replaced with two or three buttons.  The {\cb R} and {\cb S}
buttons, which are always present when the prompt line is in editing
mode, provide access to five general-purpose registers for text, plus
a register for the ``last'' text.  Both buttons produce a drop-down
menu containing register numbers.  If a selection in made in the {\cb
S} menu, the text currently in the prompt area is saved to the
register whose number was selected.  Any previous content is
overwritten.  If a selection is made in the {\cb R} menu, text saved
in the register whose number is selected will replace the text in the
prompt area.  The saved text can contain hypertext entries (see
below).

In some contexts, a third (``{\cb L}'') button appears.  This provides
access to the ``long text'' capability, which allows multiple lines of
text to be entered by providing access to a text editor window.

When editing mode is exited, the buttons disappear and are replaced
with the keys pressed display.  If {\kb Enter} was pressed to
terminate editing mode, the text is automatically saved in register 0,
and will be available from the {\cb R} menu the next time editing mode
is entered.

For some property strings, if a line of text that is longer than 256
characters is opened for editing on the prompt line, the {\cb Text
Editor} will appear, loaded with the text.  The text will be saved as
a ``long text'' item.

These features are described in more detail in the description of
the {\cb label} command in \ref{labelbut}.

Non-printing characters in the text will be displayed using special
symbols, which can be edited (in edit mode) as normal characters.  The
non-printing character most likely to appear (and the only one that
probably should appear) corresponds to the line termination character. 
These cause a line break when the text is displayed as a label
on-screen, and can be entered while in editing mode with {\kb
Shift-Enter}.  In Windows, these are shown as a paragraph symbol,
while in Unix/Linux a ``v/t'' (vertical tab) glyph is used.  Other
characters will show as a black dot in Windows, or a ``strange''
character in Unix/Linux.

The prompt line participates in the drop protocol for files.  Files
dropped on the prompt line in normal mode have the same effect as
files dropped in the main drawing window - the file will be taken as
layout input and displayed in the drawing window.

When in text editing mode, files dropped in a drawing window or the
prompt line will not be displayed, rather the full path to the file is
inserted into the text line at the cursor.  This means that when
responding to a prompt to open a file, the {\cb File Selection} pop-up
from the {\cb File Select} button in the {\cb File Menu} can be used
to find the file.  The file can then be dragged into the main window
or the prompt line window and dropped, and the name will appear on the
prompt line.  Also while the prompt line is in editing mode, pressing
the {\cb Open} (green octagon) button or the {\cb Open} menu entry of
the {\cb File Selection} pop-up will load the selected file path into
the prompt line rather than opening the cell for editing.  In most
situations where {\Xic} prompts for a file path via the prompt line, a
simplified version of the {\cb File Selection} pop-up will appear
while editing is active.

% -------------------
\subsection{Hypertext}
\index{hypertext}
\label{hypertext}

{\Xic} contains a ``hypertext'' capability, which is active in
electrical mode.  By default, the names of circuit nodes and devices
are internally assigned, implying that the name of a particular device
or node name of a particular wire net might not be well defined.  This
poses a problem when one wishes to identify a specific device or wire
net by name.  The hypertext feature addresses this issue, as do the
node name mapping and {\et name} property assignment features.
 
This is necessary, for example, when setting device properties which
reference other devices or nodes.  The device names and node numbers
might change, thus property text could become invalid if it were
static.  Instead, internally, strings are stored as data structures
which reference pure text as well as devices and nodes by internal
reference.  Thus, these hypertext strings are always valid.

One creates a hypertext reference by clicking on the schematic while
text input is being solicited in the prompt area.  The returned data
can be a node reference, a device branch reference, or a device name. 
The string, as currently defined, is inserted into the displayed text
in the prompt area in color.  Note that one can only delete the whole
item with the {\kb Delete} and {\kb Backspace} keys, the hypertext
references are treated as single items.

<p>
One will encounter hypertext when using the prompt line editor as
itemized below.  In these cases, one could type in the text, however
if due to future modifications that text changes, the present text
would be wrong.  If is therefor advantageous to use hypertext, by,
e.g., clicking on a device in a drawing window rather than typing its
name.

\begin{itemize}
\item{When creating text for properties applied to electrical devices
and circuits, for referencing other devices and nets in a
name-independent manner.  This applies when adding or editing
properties from the {\cb Property Editor} provided by the {\cb
Properties} button in the {\cb Edit Menu}, and when subsequently
editing the label text (and underlying property) using the {\cb label}
button in the side menu.}

\item{When creating labels that require reference to devices or nodes,
such as using spicetext labels to add such things as {\vt .measure}
lines.

When creating a label, clicking on a connection point in the drawing,
for example, will enter a hypertext link to the node into the label. 
The hypertext is shown in a different color in the prompt line.  The
label will always display the correct name for the node, should the
name subsequently change.  This is the means by which node labels can
be added to the drawing.}

\item{When selecting nodes and branches to plot, after simulation. 
The reference points selected by clicking are all hypertext.}
\end{itemize}

There are three types of reference that can be defined by clicking
in a schematic.

\begin{description}
\item{Node Reference}\\
If the user clicks over a wire or on a contact point of a device or
subcircuit, a node reference is established.  The colored hypertext
entered into the prompt line as a response is of the SPICE form ``{\vt
V(}{\it name\/}{\vt )}'', where {\it name} is the node name, which is
an integer by default.  The string, when printed or shown as a label,
will always show the correct name for the node selected.

\item{``Hidden'' target}\\
Some devices have a ``hidden'' target, which is usually shown as a
`$+$' symbol as part of the device schematic representation.  The
hidden targets are defined in the device definition in the device
library file, so that the meaning and location may differ.  In the
default device library, most two-terminal devices have such a point,
which generally returns a branch node or function which specifies the
current through the device.  For Josephson junctions, the target
represents the junction phase.  Clicking on this point in a drawing
window will insert the corresponding reference.

\item{Name Reference}\\
Clicking within the bounding box of a device or subcircuit, but not
over a node or hidden target, will insert a name reference.  The
returned text is the name of the instance, as derived from the {\et
name} property attached to the device or subcircuit.  This can be
applied by the user, to give the device a fixed name.  If no {\et
name} property is applied by the user, {\Xic} will generate one with
an internally generated name.
\end{description}

The node references and hidden targets are also the sensitive points
when using the {\cb plot} and {\cb iplot} commands.

Note that these targets are active at any level of the hierarchy. 
However, they are generally not selectable unless the containing
subcell is shown expanded as a schematic.  If a subcircuit is shown as
a symbol, one can still select internal points for hypertext
references by using a proxy window.  This is described in the next
section.

This feature can be used to set up specialized SPICE output.  Suppose
one wishes to use a {\vt .save} line in {\WRspice}.  A {\vt spicetext}
label can be created, where the nodes to be included in the save are
inserted in the label by clicking on the drawing.  The resulting {\vt
.save} line will always save the clicked-on nodes, whether or not the
actual node names change.

For another example, suppose one needs to apply a functional
dependence to a voltage source in the circuit to the voltage of some
node.  One would accomplish this with the following procedure.
\begin{enumerate}
\item{Open the {\cb Property Editor} and use the {\cb Add} menu to
initiate addition of a {\et value} property.}
\item{In the prompt line, type the equation representing the desired
functional dependence, and whenever the node voltage text is needed,
click on that node in a drawing window.}
\item{Press {\kb Enter} to complete the operation.}
\end{enumerate}

The equation should appear in the property label near the voltage
source.  This could be, for example, ``{\vt 2*v(4) + v(5)}'', if
default node names are used.  Later, after modifying the circuit, one
might notice that the label now reads ``{\vt 2*v(6) + v(8)}''.  The
internal node numbering has changed due to the modification, but the
source still references the correct circuit nodes.  This would not be
the case if ordinary text was used for the equation string.

% -------------------
\subsection{Proxy Windows}
\label{hyproxy}
\index{proxy windows}

If one presses the {\kb Ctrl} and {\kb Shift} keys while clicking with
button 1 on a subcell, a sub-window will appear, containing the
content of the subcell.  This works in electrical and physical mode,
while the prompt line editor is active and not.

In electrical mode, the sub-window will display the master as a
schematic, whether or not it is set to display symbolically.  The
sub-window, in this case has the important feature that it is a proxy
for the main window for hypertext.  When using the prompt line editor,
clicking in the sub-window can add hypertext references to the prompt
line, just like clicking in the main window.

One can also hold {\kb Ctrl} and {\kb Shift} and click on an instance
in a proxy window, which will produce a new proxy window showing the
master of the clicked-on instance.  One can repeat the procedure to
any depth, however at present there are only four sub-windows
available, and windows will be reused if the depth exceeds four.

When a sub-window is active as a proxy, a label is displayed in the
window menu bar.  This will give the ``proxy path'' which consists of
one or more subcircuit names, separated by periods.  These are the
subcircuits clicked on, up to the top level.  The sub-window otherwise
behaves normally, and one can switch to view another cell, or go to
physical mode.  The proxy label will disappear, and the sub-window
will no longer act as a proxy.  If one returns to viewing the original
cell, the label and capability will return.


% -----------------------------------------------------------------------------
% keyspresd 032513
\section{Keypress Buffer}
\index{keypress buffer}
To the left of the prompt line is the key press buffer area.  This
area displays the last five keys typed into the main drawing window. 
The keypress buffer remembers up to 16 characters, though only the
last five are shown.  It is cleared when {\kb Esc} or {\kb Ctrl-u} is
typed.  If the key sequence in the buffer uniquely prefixes a menu
command, the command name is displayed, and the command is executed. 
The command names are a short mnemonic, displayed in the ``tooltip''
that appears when the pointer rests over a command or menu button.

Most commands have at most five characters in their command name, the
exceptions are the scripts in the {\cb User Menu}.  For these, the
menu text is the same as the command name, and it may take more than
five characters to uniquely define the command.

The keypress buffer can be forced to literally match menu items by
typing {\kb Enter}.  Consider the two entries in the {\cb User Menu}: 
{\cb spiral} and {\cb spiralform}.  Typing ``spiral'' does nothing,
as this is a prefix of both entries.  In order to run spiral by typing
the command prefix, type ``spiral'' then {\kb Enter}.  This works for
any menu commands where one entire command is a prefix of another.

When the prompt line is in editing mode, i.e., a command is active
that requires user text input, the keys display is replaced by buttons
associated with the editing function.  The key press display returns
when editing mode is exited.

Each drawing window (main window and the sub-windows produced with the
{\cb Viewport} button in the {\cb View Menu}) has its own keypress
buffer, and matching commands will apply to the window into which the
text was typed, if applicable.  In sub-windows, the key press buffer
displays in the menu bar area, to the right.


% -----------------------------------------------------------------------------
% quoting 102208
\section{Quoting}

When giving input to {\Xic}, single and double quotes can be used to
``hide'' characters, such as space characters, that {\Xic} would
otherwise interpret incorrectly.  {\Xic} will generally strip the
outermost quotes before processing, so inner-level quotes will be
retained (quote marks of different types nest).  A quote mark which is
preceded by a backslash will be treated as an ordinary character.

As an example, consider the prompt of the {\cb Open} command.  The
command prompt expects one or two tokens.  The first token is the name
of a file to open.  The second token, if given, is the name of the
cell to edit if the first token names a multi-cell file such as a
GDSII file.  Suppose that the file is in a directory named ``{\vt Xic
Files}''.  Without the quoting mechanism, there is an obvious problem. 
To edit the file, one enters, for example (each of these would work),

\begin{quote}\vt
"Xic Files"/my\_design.gds\\
"Xic Files/my\_design.gds"\\
Xic" "Files/my\_design.gds
\end{quote}

The double quotes make each of these strings appear to {\Xic} as a
single word.


% -----------------------------------------------------------------------------
% accelerator 011014
\section{Menu Selection and Accelerators}
\index{toolbar menus}

Menus from the main menu bar are displayed when the left mouse button
(button 1) is pressed over a menu bar entry.  The drop-down listing of
entries will appear.  A selection can be made by releasing the mouse
button over the item to be selected.  Alternatively, clicking the
mouse button will also cause the menu to appear, and clicking over the
menu will select the item under the pointer, and retire the menu. 
While the menu is visible, keypresses are ``grabbed'' by the menu, and
so will not be sent to other windows or applications.  While a menu is
visible, the up and down arrow keys will cycle through the menu
entries, highlighting each in sequence.  Pressing {\kb Enter} will
``press'' the highlighted entry.  The entries in the side menu are
mostly toggle buttons, which are activated by clicking with mouse
button 1.

\index{accelerator keys}
Commands can also be executed by typing an accelerator while the mouse
pointer is in a drawing window.  Commands can be exited by selecting
another command in most cases, or by pressing the {\kb Esc} key.  Some
commands are switches which remain in effect until selected again.

There are multiple accelerator functions available.

\begin{enumerate}
\item{
{\kb Alt-}{\it char} brings up the menu keyed by {\it char} where {\it
char} is the character that is underlined in the name in the menubar. 
If this is followed by a character underlined in one of the menu
entries, that function is invoked.  For example, typing {\kb
Alt-fp} (press and hold {\kb Alt}, press {\kb f}, release {\kb Alt},
press {\kb p}) engages the {\cb Print} command in the {\cb File Menu}.
}
\item{
If the menu entry has something in the second column, that is also an
accelerator.  For example, in the {\cb File Menu}, the {\cb Quit}
entry has ``Ctrl-Q'' listed in the second column.  This indicates that
pressing {\kb Ctrl-q} will invoke the {\cb Quit} command.  The menu
doesn't have to be visible.

\index{accelerators!changing}
Under Unix/Linux, the menu accelerators can be changed interactively. 
Click on a menu to open it, then move the pointer over one of the
entries (it will be highlighted).  Pressing {\kb Shift}, {\kb Ctrl} or
{\kb Alt} along with another key will add that accelerator to the menu
entry, or change an existing accelerator.  With the menu invisible,
entering that key combination will ``press'' the assigned button,
unless the combination happens to be used elsewhere for another
purpose (it must be unique in the menus, at least).  Under Windows,
the menu accelerators can not be changed.
}
\item{
Every command has a name, shown in the tooltip bubble that appears
after the pointer is stationary over the button for a second or two. 
Typing the first few characters of this name will trigger that
command.  Only the characters required to uniquely specify the command
name among all commands currently is scope are required.  When
activated, the name of the command is printed in the key press buffer
window.  For example, ``{\vt pus}'' triggers {\cb Push}.
}
\item{
One can define macros for keypress combinations with the {\cb Define
Macro} command button in the {\cb Attributes Menu}.
}
\end{enumerate}


% -----------------------------------------------------------------------------
% keyboard 082710
\section{Keyboard Input}
\index{keyboard}
\index{keyboard!buffer}
\index{keyboard!Ctrl-u}
\index{keyboard!Backspace}
\index{keyboard!ForwardSlash}

The main window must have the keyboard focus in order for {\Xic} to
receive keyboard input.  Under some window managers, including under
Windows, the frame of the main window can be clicked on to give that
window the focus, and the focus will remain with that window regardless
of the location of the pointer.  In other cases, the pointer must be
in the main window in order to give the main window the focus.

If a command is active that is prompting for input, the keystrokes
will appear on the prompt line, the key press display will be replaced
with buttons, and the prompt line background will appear in a lighter
color.  See \ref{pledit} for a description of the key bindings that are
in force while in editing mode.

If not in editing mode, the characters will be added to the buffer
displayed in the keys area.  After each character is added to the
buffer, the buffer is compared with all menu command names, and if the
buffer uniquely matches the first characters of a menu button name,
that button will be activated.  Only a few characters can be saved in
the buffer, and after the buffer is full, keystrokes will be ignored. 
The buffer can be cleared with {\kb Ctrl-u} (hold the {\kb Ctrl} key
and press {\kb u}).  The buffer is also cleared after each command
match, although the display will show the full name of the command. 
The {\kb Backspace} key will delete the last character entered.  There
are other accelerators for most menu commands.

% -----------------------------------------------------------------------------
% keyboard 082024
The `!' character will switch the prompt line to editing mode to
solicit one of the text-mode commands.  The `?' character will switch
the prompt line to editing mode to obtain a help keyword or directive. 
There are many other keys with special significance to {\Xic},
summarized in the table below.  These keys should be memorized by the
user, as there is no alternative way to invoke their function.

\begin{tabular}{|l|l|} \hline
\bf Character & Result\\ \hline\hline
\bf ! & Enter text-mode command\\ \hline
\bf ? & Enter help keyword, URL, or path to image or HTML file\\ \hline
\bf Esc & Exit current command, or deselect selections\\ \hline
\bf Tab & Undo operation\\ \hline
\bf Shift-Tab & Redo last undone operation\\ \hline
\bf Delete & Delete selected objects\\ \hline
\bf Forward Slash & Swap current transform with saved (Register 0)
    transform value.\\ \hline
\bf Arrow Keys & Pan\\ \hline
\bf Shift-Arrow Keys & Fine pan\\ \hline
\bf Ctrl-Arrow Keys & Cycle rotation and mirror transformations\\ \hline
\bf Numeric $+$ & Zoom in, expand by 2\\ \hline
\bf Shift-Numeric $+$ & Zoom in by 10 percent\\ \hline
\bf Numeric $-$ & Zoom out, shrink by 2\\ \hline
\bf Shift-Numeric $-$ & Zoom out by 10 percent\\ \hline
\bf Home & Center full view cell\\ \hline
\bf Page Down & Show next DRC error in {\cb Show Errors} command\\ \hline
\bf Page Up & Show previous DRC error in {\cb Show Errors} command\\ \hline
\bf Ctrl-a & Select associated labels\\ \hline
\bf Ctrl-c & Interrupt\\ \hline
\bf Ctrl-e & Enter coordinate\\ \hline
\bf Ctrl-g & Change grid\\ \hline
\bf Ctrl-k & Delete-to-end when editing\\ \hline
\bf Ctrl-n & Save view\\ \hline
\bf Ctrl-p & Deselect associated labels\\ \hline
\bf Ctrl-r & Redraw window\\ \hline
\bf Ctrl-u & Clear input buffer\\ \hline
\bf Ctrl-v & Print program version\\ \hline
\bf Ctrl-x & Expand cells\\ \hline
\bf Ctrl-z & Iconfiy\\ \hline
\end{tabular}

% -----------------------------------------------------------------------------
% keyquest 012016
\index{keyboard!?}
\index{help escape}
Just as the `!' character switches the prompt line to editing mode to
accept a command (see \ref{bangcmds}, the `?' character will switch to
editing mode, to accept a ``help directive''.

A ``help directive'' can be one of the following:
\begin{itemize}
\item{A help system keyword, so ``?  {\it keyword}'' is the same as
``{\vt !help} {\it keyword}'', i.e., a shortcut to the {\cb !help}
command.  If no {\it keyword} is given, and the program is in a
command mode, meaning that the {\cb Mode} entry in the status line is
something other than ``{\vt MAIN}'', then the help shown will apply to
the current mode.  Otherwise, the default help topic is shown, as for
``{\vt !help}'' without arguments.}

\item{A general URL or path to a compatible local file.  The help
window will display the file or URL, if possible.  In particular,
image files can be displayed this way.  A URL must be complete,
including the ``{\vt http://}'' prefix.  Most web sites use style
sheets and other constructs not handled by the simple rendering engine
in the viewer window, so it is not great for general web-surfing, but
it may be good enough for some purposes.}

\item{One of the single character directives.  These apply only
after `?', and print information that is not from the help
system, but derived from internal tables.  These are given in the
table below.}
\end{itemize}

\begin{tabular}{|l|p{3in}|} \hline
\bf Character & Result\\ \hline\hline
\bf !, b, B &
  Giving exactly one of these characters will print a listing of the
  `!' commands that are available in the program.\\ \hline
\bf v, V &
  Giving exactly one of these characters will print a listing of the
  variable names that have significance within the program.  Variables
  are listed whether or not the variable is actually set.\\ \hline
\bf s, S &
  Giving exactly one of these characters will print a list of
  variables that are currently set, the same as the {\cb !set} command
  without arguments.\\ \hline
\bf f, F &
  Giving exactly one of these characters will print a list of all of
  the internal script interface functions available within the
  program.\\ \hline
\end{tabular}

Each listing will provide the listed items as colored links.  Clicking
on the links will pop up help about the item.

The {\Xic} program is modular, and the {\XicII} and {\Xiv} virtual
programs are effectively {\Xic} with only a subset of modules.  The
listings provide definitive summaries of the functions and variables
actually available in the feature set, in case this is not clear from
the documentation.

% -----------------------------------------------------------------------------
% keyescape 012016
\index{keyboard!Esc}
\index{aborting commands}
The {\kb Esc} (Escape) key terminates any command and clears the key
press buffer.  Many commands can also be terminated by pressing the
command button a second time, or by selecting a new command.  After
pressing {\kb Esc}, the {\et mode} listed in the status area should be
``{\vt MAIN}''.

If pressed in idle mode, all selected objects will be deselected.

% -----------------------------------------------------------------------------
% keytab 072808
\index{keyboard!Tab}
\index{keyboard!Shift-Tab}
\index{undo}
\index{redo}
The {\kb Tab} key performs an {\cb Undo} command, which will undo the
last operation, and has the same effect as pressing the {\cb Undo}
button in the {\cb Modify Menu}.  Pressing the {\kb Shift} key along
with the {\kb Tab} key will instead redo the last undone operation,
which is the same as pressing the {\cb Redo} button in the {\cb Modify
Menu}. 

% -----------------------------------------------------------------------------
% keydelet 072808
\index{keyboard!Delete}
\index{object deletion}
Pressing the {\kb Delete} key will delete any objects currently
selected.  Objects in a drawing can be selected with button 1
operations (see \ref{btnsel}).  This has the same effect as the {\cb
Delete} button in the {\cb Modify Menu}.  If the {\cb Rulers} button in
the {\cb View Menu} is active, the {\kb Delete} key will delete rulers
and not other objects.

% -----------------------------------------------------------------------------
% keydelet 082024
\index{keyboard!ForwardSlash}
Outside of any command, pressing the forward slash `{\cb /}' key will
swap the current transform with the saved transform in Register 0, if
any.  The saved transform is the one in force for the last move or copy
operation.  The current transform is also saved when
terminating a {\cb Move}, {\cb Copy}, or {\cb Place} command.

% -----------------------------------------------------------------------------
% keyarrow 020715
\index{keyboard!arrow keys}
\index{panning}
Without the {\kb Ctrl} or {\kb Shift} keys pressed, the arrow keys
will pan the display in the drawing window which contains the pointer
by one-half screen in the direction of the arrow.  If {\kb Shift} (but
not {\kb Ctrl})is held while pressing the arrow keys, the display will
instead pan by ten percent.  Panning can also be performed with the
middle mouse button (button 2), and with the mouse wheel. 

Holding {\kb Ctrl} (but not {\kb Shift}) while pressing the left and
right arrow keys will cycle the current rotation setting, otherwise
set with the {\cb xform} command in the side menu.  This affects moved
and copied objects and new instances.

Holding {\kb Ctrl} (but not {\kb Shift}) while pressing the up arrow
key will toggle the current {\cb Reflect Y} state of the {\cb Current
Transform}.

Holding {\kb Ctrl} (but not {\kb Shift}) while pressing the down arrow
key will toggle the current {\cb Reflect X} state of the {\cb Current
Transform}.

Holding both {\kb Shift} and {\kb Ctrl} while pressing the left or
right arrow keys will cycle through the previous views in the window
which has keyboard focus.  This is similar to the {\cb prev} and {\cb
next} menu commands in the {\cb View} command of the {\cb View Menu}. 
The last five views of a cell are saved.

Holding both {\kb Shift} and {\kb Ctrl} while pressing the up or down
arrow keys will increment or decrement the subcell expansion depth, as
if giving a `$+$' or `$-$' to the {\cb Expand} pop-up, affecting the
drawing window that has the keyboard focus.

The arrow keys may have special functions in individual commands,
which override the behavior above.  This is noted in the descriptions
of the commands.

% -----------------------------------------------------------------------------
% key+- 072808
\index{keyboard!numeric +}
\index{keyboard!numeric -}
\index{zooming}
The {\kb $+$} and {\kb $-$} keys in the numeric keypad area will zoom
the display in or out by a factor of two, respectively, in the drawing
window where the pointer was located at the time of the key press. 
The action is similar to the {\cb Zoom} command in the {\cb View
Menu}, and the button 3 operations.  On some systems, these keys must
be defined using the mapping facility provided by the {\cb Key Map}
button in the {\cb Attributes Menu}.

If the {\kb Shift} key is held while pressing the numeric keypad {\kb
$+$}/{\kb $-$} keys, the zoomin/zoomout factor is reduced to 10\%.

% -----------------------------------------------------------------------------
% keyhome 072808
\index{keyboard!Home}
\index{view}
Pressing the {\kb Home} key will center and fully display the current
cell, in the window where the pointer was located at the time of the
key press.  This can also be done with the {\cb View} command.  On
some systems, this key must be mapped with the {\cb Key Map} command
in the {\cb Attributes Menu} in order for this functionality to be
available.

% -----------------------------------------------------------------------------
% keypage 072808
\index{keyboard!Page Up}
\index{keyboard!Page Down}
\index{view}
The {\kb Page Up} and {\kb Page Down} keys are used with the {\cb Show
Errors} command in the {\cb DRC Menu}.  {\kb Page Down} will show the
first and subsequent errors.  {\kb Page Up} will show the previous
error(s).  Pressing {\kb Ctrl-f} will have a similar effect to {\kb
Page Down}, and either {\kb Ctrl-b} or {\kb Ctrl-p} will simulate a
{\kb Page Up} press.  On some systems, the {\kb Page Up} and {\kb Page
Down} keys must be mapped using the {\cb Key Map} command in the {\cb
Attributes Menu}.

% -----------------------------------------------------------------------------
% keybang (first para) 022504
\index{keyboard!"!}
The command line interface through the prompt area provides an
interface to operating system commands, as well as to a number of
internal commands which are often rather specialized and not
associated with a menu button.  Each of these commands starts with an
exclamation point (`{\kb !}'), and may be entered when no other
command is active, or inside of many commands.  These key presses are
not recorded in the ``keys'' area below the side menu.  If the command
entered matches one of the internal commands, that command is
executed.  Otherwise, an operating system shell and associated window
is produced to execute the command, with the exclamation mark
stripped.  If the `{\kb !}' is followed immediately by {\kb Enter}, an
interactive subshell window is brought up.  See Chapter \ref{bangcmds}
for a listing of the `{\kb !}' commands.

% -----------------------------------------------------------------------------
% keyfunc 072808
\index{keyboard!function keys}
The keyboard function keys, usually labeled F1 -- F12, can be mapped
by the user to provide an alternate means of pressing buttons in the
menus.  The mappings are added to the technology file with a text
editor, following the syntax described in \ref{techfile}.  These
mappings are completely up to the user to define, and no default
mapping is installed (though the supplied technology file contains a
mapping).

% -----------------------------------------------------------------------------
% not in help
There are several control characters (characters entered while holding
the {\kb Ctrl} key) which perform operations in {\Xic}.  These are
hard coded, and are in addition to any accelerators listed in the
drop-down menus from the main toolbar.  These are also in addition to
accelerators from pop-up windows that have accelerators in their
menus.  These control keys supersede a menu accelerator using the
same key.

% -----------------------------------------------------------------------------
% keyctrla 013113
\begin{description}
\index{keyboard!Ctrl-a}
\index{selections!associated labels}
\item{\kb Ctrl-a}\\
In electrical mode, outside of any command, pressing {\kb Ctrl-a} will
cause the associated labels of any selected device or wire to also
become selected.  If labels are selected, then pressing {\kb Ctrl-a}
will cause their associated device or wire to also become selected. 
The associated labels can be deselected by pressing {\kb Ctrl-p}. 
This is useful for determining which labels are associated with a
given device or wire, and {\it vice-versa}.

When entering text to the prompt area, {\kb Ctrl-a} will move the
cursor to the beginning of the line.

% -----------------------------------------------------------------------------
% keyctrlc 010715
\index{keyboard!Ctrl-c}
\index{keyboard!interrupt}
\item{\kb Ctrl-c}\\
This key sends an interrupt signal to {\Xic}.  When an interrupt is
received, and {\Xic} is performing a lengthly operation, the user is
generally given the option of aborting the operation.  This occurs
within the DRC and Extraction functions, and geometrical commands such
as {\cb !join} and {\cb !layer}, as well as file reading and writing. 
If an interrupt is received while drawing to the screen, the drawing
immediately terminates, without user confirmation.  Script execution
is also terminated immediately.

Under Microsoft Windows, pressing the {\kb Pause/Break} key also sends
an interrupt signal if {\Xic} has the keyboard focus.

When the ``wait'' cursor is active when the mouse pointer is in a
drawing window, {\Xic} is ``busy''.  When busy, {\Xic} locks out all
key press events except for {\kb Ctrl-c}, and most mouse button
events.  If a locked-out event is received, a pop-up will appear that
informs the user that {\Xic} is busy and to use {\kb Ctrl-c} to abort
the operation.  This pop-up will disappear after three seconds (trying
to destroy it with the mouse won't work).

When {\Xic} is busy and {\kb Ctrl-c} is pressed, the operation may be
paused, and the user is asked (on the prompt line) whether to abort or
continue.  While waiting for input, most buttons are desensitized. 
Those that are not are the {\cb Help Menu}, {\cb View/Allocation}, and
{\cb Attributes/Main Window/Freeze}.  Thus, these features are
available during the pause.

All other events are dispatched normally while busy, so that
visual updates should happen fairly quickly.  Unlike early
releases, there is no attempt to save unhandled events and handle
them later.

% -----------------------------------------------------------------------------
% keyctrle 072808
\index{keyboard!Ctrl-e}
\index{keyboard!coordinate entry}
\item{\kb Ctrl-e}\\
Pressing {\kb Ctrl-e} prompts the user for a coordinate pair, which is
then used in a point operation, just as if the user had clicked with
button 1 at that location.  When entering coordinates using {\kb
Ctrl-e}, the coordinate is not moved to the nearest snap point as it
would have been if entered with the mouse.  Thus, off-grid points can
be entered, and the user must bear this in mind.

When editing a string on the prompt line, {\kb Ctrl-e} will move the
cursor to the end of the string. 

% -----------------------------------------------------------------------------
% keyctrlg 101312
\index{keyboard!Ctrl-g}
\index{grid}
\item{\kb Ctrl-g}\\
Pressing {\kb Ctrl-g} brings up the {\cb Grid Setup} panel (see
\ref{gridpop}).  This can be used to alter the grid displayed in the
drawing window that had the keyboard focus.  This is effectively an
accelerator for the {\cb Set Grid} button in the {\cb Main Window}
sub-menu of the {\cb Attributes Menu}, or the {\cb Set Grid} button
in the {\cb Attributes} menu of sub-windows (see \ref{subwin}).

% -----------------------------------------------------------------------------
% keyctrlk 102208
\index{keyboard!Ctrl-k}
\item{\kb Ctrl-k}\\
When entering text to the prompt area, {\kb trl-K} will delete-to-end. 
The character over the cursor and all characters to the right will be
deleted.

% -----------------------------------------------------------------------------
% keyctrln 072808
\index{keyboard!Ctrl-n}
\index{view!save}
\item{\kb Ctrl-n}\\
The view in a window can be saved at any time by pressing {\kb
Ctrl-n}.  The view is assigned a letter, which allows it to be
recalled with the {\cb View} command.  Up to five views can be saved
per window, and these are assigned letters A-E in order.  The view can
also be restored by pressing {\kb Ctrl-Shift-a} through {\kb
Ctrl-Shift-e}.

% -----------------------------------------------------------------------------
% keyctrlp 072808
\index{keyboard!Ctrl-p}
\index{selections!associated labels}
\item{\kb Ctrl-p}\\
In electrical mode, outside of any command, pressing {\kb Ctrl-a} will
cause the associated labels of any selected device to also become
selected.  The associated labels can be deselected by pressing {\kb
Ctrl-p}.  This is sometimes useful for determining which labels are
associated with a given device.

Pressing {\kb Ctrl-p} is equivalent to pressing the {\kb Page Up} key
when the DRC {\cb Show Errors} command is active.

% -----------------------------------------------------------------------------
% keyctrlr 072808
\index{keyboard!Ctrl-r}
\index{redraw screen}
\item{\kb Ctrl-r}\\
Pressing {\kb Ctrl-r} will redraw the window which contained the
pointer when {\kb Ctrl-r} was pressed.

% -----------------------------------------------------------------------------
% keyctrlu 102208
\index{keyboard!Ctrl-u}
\index{keyboard!clear buffer}
\item{\kb Ctrl-u}\\
When entering text to the prompt area, pressing {\kb Ctrl-u} will
delete all characters from the input buffer.

% -----------------------------------------------------------------------------
% keyctrlv 072808
\index{keyboard!Ctrl-v}
\index{version}
\item{\kb Ctrl-v}\\
Pressing {\kb Ctrl-v} will bring up a window containing the {\Xic}
version number and copyright information.

% -----------------------------------------------------------------------------
% keyctrlx 072808
\index{keyboard!Ctrl-x}
\index{expand}
\item{\kb Ctrl-x}\\
Pressing {\kb Ctrl-x} will bring up a the {\cb Expansion Control}
panel, the same as the {\cb Expand} command in the {\cb View Menu}.

% -----------------------------------------------------------------------------
% keyctrlz 072808
\index{keyboard!Ctrl-z}
\index{iconic}
\item{\kb Ctrl-z}\\
Pressing {\kb Ctrl-z} while the pointer is in a drawing window will
iconify {\Xic}.  {\kb Ctrl-z} in the controlling terminal window
retains the usual job control function.

\end{description}

% -----------------------------------------------------------------------------
% not in help
\index{keyboard!Shift}
\index{keyboard!Ctrl}
Finally, the {\kb Shift} and {\kb Ctrl} keys are often used in
conjunction with the pointer buttons to initiate new operations or
modify current operations.  The sections describing the commands will
provide examples.


% -----------------------------------------------------------------------------
% mouse 012214
\section{Pointing Device}
\label{buttons}
\index{buttons}

{\Xic} is most efficiently used with a three-button mouse, trackball,
or other input device.  The three buttons are normally numbered from
the left, with the mouse pointing upward.  This manual will refer to
buttons by their number according to this convention.

A two-button mouse, as commonly used with PC hardware, does not
provide button 2 (the ``middle'' button).  Although a three-button
pointing device is recommended, in current {\Xic} releases the
important button 2 operations can be simulated using button 1 or 3,
while holding a modifier key.  Thus, for many users, a two-button
mouse should be entirely adequate.

In short, button 1 is used for basic point and click operations and
menu selections.  The middle button, button 2, is used for pan
operations in drawing windows, and the right button, button 3, is used
for zooming in the drawing windows.

In addition, drawing windows respond to mouse wheel events.  The basic
action is vertical scrolling, however if {\kb Shift} is held, the
window will scroll horizontally.  If {\kb Ctrl} is held (which
overrides {\kb Shift}) the display will zoom in or out.  The mouse
wheel sensitivity can be changed with the {\et MouseWheel} variable. 
A mouse wheel will also provide scrolling capability in text windows
and the help viewer on most systems.


% -----------------------------------------------------------------------------
% button1 010818
\index{button 1}
\index{point operation}
Button 1 (the left button) is used for point operations in the drawing
windows, and for activating command buttons and sliders in menus and
pop-ups.  In most cases, a ``point operation'' can be effected in two
ways: click twice, or hold and drag.  If the pointer does not move too
much as button 1 is pressed and released, a single point is defined,
and most commands will prompt the user to point a second time to
complete the operation.  If button 1 is held while the pointer moves,
upon release the operation is completed, using the press and release
coordinates.  A rectangle defining the two positions is typically
ghost-drawn while the point operation is in progress.

The delay interval which is used to differentiate a ``click'' from a
``hold'' or ``drag'' can be adjusted by setting the {\cb SelectTime}
variable with the {\cb !set} command.  The default value is 250
milliseconds, and the adjustable range is 100--1000 milliseconds. 
Some users may find that setting the delay to a larger value improves
the ability to differentiate between the operations described below.

\index{selections}
\index{move objects}
\index{copy objects}
Outside of any command, button 1 performs selection, move/copy, and
stretch operations.  The {\kb Shift} and {\kb Ctrl} keys act as
modifiers for the button 1 presses.  The following sections describe
the normal operations.

If {\kb Shift}, {\kb Ctrl}, and {\kb Alt} are all held while button 1
is pressed, a ``no-operation'' (button 4) press is simulated.  This
performs no action, but updates the coordinate readout window.

If {\kb Shift} and {\kb Ctrl} are both held while clicking on a
physical cell instance or electrical subcircuit, a sub-window will
appear containing the contents of the subcell or subcircuit.  In
electrical mode, the new window will display the subcell schematic,
and be a proxy for the main window for hypertext, including plot
reference points.  Clicking in the sub-window will assign hypertext
reference points, as if one clicked in the main window (see
\ref{hyproxy}).  This is how one can get hypertext references of
assign plot points from a cell that is shown as an instance
symbolically.

with only the {\kb Ctrl} key held, clicking on a selected cell
instance will provide access to resources as described.  If the
selected instance is a normal cell, the {\cb Property Editor} panel
(see \ref{prptybut}), with the clicked-on instance as the current
object, will appear.  If the selected instance master is a
parameterized cell (pcell), the {\cb Parameters} panel (see
\ref{pcparams}) appears, allowing the user to reparameterize the
instance.  If the selected instance is a standard via (see
\ref{stdvia}), the {\cb Standard Via Parameters} panel will appear,
allowing the user to alter ther structure of the via.

\subsection{Basic Selection Operation}
\label{btnsel}

\index{selections}
If neither of the {\kb Shift} and {\kb Ctrl} keys is pressed, clicking
on an object will toggle its selected status.  Objects which are
selected are drawn with a blinking boundary.  These objects are acted
on by many of the button commands, so that object selection in an
important part of {\Xic} operation.  The number of selected objects,
if any, is displayed in the status area below the layer table.  This
information is useful, as selected objects can be off-screen, leading
to unintended consequences.

The default selection operation is described here.  The selection
behavior can be modified from the {\cb Selection Control Panel}
brought up by the {\cb selcp} button in the top button menu.  Only
objects on layers that are both visible and selectable (as shown in
the layer table) can be selected.

Clicking on a single object will toggle the selection status of the
object.  If the point where the object was clicked is also over a
subcell, the object and not the subcell will be selected or
deselected; subcells are affected only if there is no other geometry
at the selection point.

It is impossible to select an object or subcell with mouse operations
whose boundary is completely invisible in all display windows.  Such
objects can be deselected, however.

When clicking on an intersecting point of several objects, there are
two types of logic available.  In the default logic, when clicking on
the intersection area of several unselected objects, only one of the
objects is selected, and repeatedly clicking in the same spot will
selected a different object, deselecting the previous selection if
any.  Thus, one can cycle through the candidates and select only the
one of interest.  If two or more of the objects are already selected,
only one of the selected objects will be deselected, and no new object
will be selected.  If exactly one object is selected, it will be
deselected, and the ``next'' object will be selected.  If there is no
``next'' object, then there will be no new selection.  The ``next''
object is subject to the ordering of layers in the layer table (top to
bottom) and database ordering (sorted descending in the Y value and
ascending in the X value of the upper left corner of the object's
bounding box).

In the ``legacy'' logic, which was used in releases through 2.5.63,
clicking on an intersecting point of several unselected objects will
select them all.  However, clicking on the intersection area of
several selected objects will {\it not} deselect them all.  The logic
in this case is similar to the default logic.  If more that one object
is selected, only one of the objects will be deselected per click in
an intersecting area.  When only one of the objects remains selected,
the next click will deselect the selected object, and select the other
objects.

\index{NoAltSelection variable}
If the variable {\et NoAltSelection} is set, {\Xic} will use the
legacy logic.

Clicking ({\it not} dragging) on an empty part of the drawing will
deselect the single object at the head of the selection list, if any,
which is the object most recently selected.  This applies when no
command is active, not when selections are performed within commands.

If neither of the {\kb Shift} or {\kb Ctrl} keys is pressed, and
button 1 is pressed, dragged, and released, the selection status of
objects that intersect the defined rectangle is toggled.  This is an
``area select''.  Unlike clicking (or ``point select''), the selection
status of all affected objects is toggled by an area select.  During
the drag, the rectangle defined for the area select is ghost drawn. 
In area select, qualifying instances are always selected or
deselected, whether or not other geometry is present.

A special case applies in both point and area selection, when only
physical cell instances are selectable, and three or more instances
would be selected.  The {\cb Select Instances} pop-up appears, which
provides a listing of the selectable instances, along with colored
``yes/no'' text indicating the present selected state of each
instance.  The state can be toggled by clicking on the colored text. 
This is a useful feature for designs containing a large number of
overlapping cell instances.  The same pop-up may appear in other
contexts when instances are being chosen for some operation.  In this
case, the nomenclature is slightly different (``Choose'' instead of
``Select'').  In both cases, the pop-up is modal, meaning that most
interface objects other than the pop-up are locked while the pop-up is
visible.

In either point or area select, if the instance bounding box is not
visible in the window, the instance will not be selected, which may
prevent accidents.

\index{selections!hierarchy}
In electrical mode with point selection, objects are acted upon
hierarchically.  Wires have the highest precedence, followed by
labels, instances, and boxes.  Only the clicked-on objects with the
highest precedence are acted upon, if there are multiple objects
clicked on.  For example, clicking on a wire over a subcircuit will
select or deselect the wire, but ignore the subcircuit.  With drag
selection, all qualifying objects will be acted upon.

When the selection operation is completed, the status of the modifier
keys determines how the chosen objects are processed.  If neither of
{\kb Shift} or {\kb Ctrl} is pressed, the action is as described.  if
{\kb Shift} is pressed (but not {\kb Ctrl}), any unselected objects
are selected.  If {\kb Ctrl} is pressed (but not {\kb Shift}) any
selected objects are deselected.  If both {\kb Shift} and {\kb Ctrl}
are held, the selection status of each object is reversed.  This is
the default for area selections, but not point selections.

The {\cb desel} button can be used to deselect all selected objects. 
This acts on all selected objects, whether or not they are on the
current layer.  The {\cb !select} command is another mechanism whereby
objects can be selected.

\subsection{Basic Move/Copy Operation}

Objects must first be selected in order to be moved or copied.  These
operations are short-cuts to the {\cb Move} and {\cb Copy} commands in
the {\cb Edit Menu}.  There are also {\cb !mo} (move) and {\cb !co}
(copy) commands available for text-mode input from the prompt line.

If the {\kb Shift} key is down when the user presses button 1, and the
pointer is over a selected object, then a move/copy operation on all
of the selected objects is initiated.  Alternatively, pressing button
1 with no keys pressed over a selected object and holding, motionless
for a brief period, will similarly initiate a move/copy operation.  In
the first case, if the user releases button 1 immediately (clicks)
then the outlines of the selected objects are ``attached'' to the
pointer and the move/copy operation will complete when the user clicks
a second time.  Alternatively, the user can drag the pointer (with
button 1 still pressed), and the release event will complete the
operation.  In the second case, the pointer must remain motionless
with button 1 down for a brief period.  The user can release button 1,
at which point the objects are attached to the pointer, and complete
the operation with a second button 1 press.  Alternatively, the user
can begin to drag, and complete the operation by releasing button 1. 
The brief period of inactivity, or the fact that the {\kb Shift} key
is pressed, signals the start of a move/copy operation.

Pressing the {\kb SpaceBar} toggles whether the operation is in move
or copy mode.  The last state is remembered in the next operation.  A
message in the prompt area indicates the current mode, which will
apply when the operation completes.

When in copy mode, a replication count will be read from the keypress
buffer of the current window when the copy is performed.  This is an
integer, entered by typing into the window.  If not found or out of
the range 1--100000, a single copy is made.  Otherwise, multiple
copies will be created, at multiples of the translation distance.

Also in copy mode, when clicking twice rather than dragging, the
object being copied remains ``attached'' to the mouse pointer, so
that additional copies can be placed by simply clicking.  Pressing
{\kb Esc} will terminate this mode.

If the {\kb Shift} key is down when the operation is completed, the
angle of translation is constrained to be multiples of 45 degrees. 
This constraint is visible during the move/copy by observing the
behavior or the ghost-drawn outlines as the pointer moves.  This is
often useful for making sure that the new location is horizontally,
vertically, or diagonally aligned with the original location.

If the {\kb Enter} is pressed during a move, when the objects being
moved are ghost-drawn and attached to the pointer, the reference point
of the object becomes the lower left corner of the bounding box of the
objects.  Pressing {\kb Enter} will cycle the reference point through
the corners of the bounding box, and back to the original reference
location.  Note that this allows objects that have somehow gotten
off-grid to be returned to the grid.

It is possible to change the layer of objects during a move/copy
operation.  During the time that objects are ghost drawn and attached
to the mouse pointer, if the current layer is changed, the objects
that are attached can be placed on the new layer.  Subcells are not
affected.

How this is applied depends on the setting of the {\et
LayerChangeMode} variable, or equivalently the settings of the {\cb
Layer Change Mode} pop-up from the {\cb Set Layer Chg Mode} button
in the {\cb Modify Menu}.  The possible actions are to ignore the
layer change, place objects originating from the old current layer on
the new layer, or to place all new objects on the new layer.  If the
current layer is set back to the previous layer before clicking to
locate the new objects, no layers will change.  Note that layer change
is only possible for ``click-click'' mode and not ``press-drag''.

\subsection{Basic Stretch Operation}

Objects must first be selected in order to be stretched.  The basic
stretch operation described here is also available from the {\cb
Stretch} command in the {\cb Edit Menu}, but that command provides
additional features, such as vertex selection, not available from the
basic operation.  Stretching operations are also available for
polygons in the {\cb polyg} command, and for wires in the {\cb wire}
command.

Clicking on a selected object with the {\kb Ctrl} key pressed
initiates a stretch.  If the {\kb Shift} key is also held, an actual
stretch command is initialted, as if the {\cb Stretch} button in the
{\cb Modify} menu was pressed.  The mode changes to the stretch
command, which can be terminated by pressing the {\kb Esc} key.  The
command allows use of vertex selection to mark and move several
polygon vertices in tandem, a feature not available in the simple
stretch operation to be described, which in initiated if the {\kb
Shift} key is not also pressed.

Any object other than subcells can be stretched, but the effect of the
stretch differs on the various objects.  Boxes and labels are
stretched in such a way as to maintain a rectangular shape.  That is,
if a corner is stretched, the adjacent vertices are also moved in
order to keep the internal angles 90 degrees.

The stretch operation works differently on Manhattan polygons than
polygons containing nonorthogonal angles.  For non-Manhattan polygons,
a single vertex is moved, all others remain fixed.  The stretch
operation on Manhattan polygons is similar to the operation as applied
to boxes, i.e., the corner and adjacent vertices are changed so as to
keep the polygon Manhattan.  A single vertex can be stretched
arbitrarily either by selecting the vertex in the {\cb Stretch}
command in the {\cb Edit Menu}, or by using the vertex editor in the
{\cb polyg} command.

If the {\kb Ctrl} key is pressed when the user presses button 1, and
the pointer is over a selected object that is not a subcell, a stretch
operation will be initiated.  The operation is performed on all
selected objects, and the new outlines are ghost drawn.  As for
move/copy, the operation can be performed by clicking twice, or by
dragging and releasing button 1.  For selected polygons and wires, the
vertex nearest the button 1 press location, for each object, is moved. 
For boxes and labels, the corner closest to the button down location
is moved.

If the {\kb Shift} key is pressed when the stretch is completed, the
angle of translation is constrained to multiples of 45 degrees.  This
can be seen in the behavior of the ghost drawn outlines while the
pointer moves, with and without the {\kb Shift} key pressed.  At this
stage, the {\kb Ctrl} key is ignored.

\subsection{Additional Notes}

Pressing the {\kb Esc} key will terminate the operations described
above while in progress.  The {\kb Tab} and {\kb Shift-Tab} keys will
undo and redo the operation, respectively.  These operations sound
complex when described in print, but become quite natural in practice. 
The user should spend a few minutes learning these operations.

\index{current layer}
In the layer menu, button 1 selects the current layer, as indicated
by the highlight box drawn around the entry.  If the {\kb Shift} or
{\kb Ctrl} key is pressed while clicking with button 1 in the layer
menu, the action is identical to a button 2 press, i.e., the layer
visibility status is changed.  This is advantageous for users with a
two-button pointing device, on which button 2 is usually absent.

Many of the pop-up windows can be moved by pressing button 1 while
the pointer in on the background or a label object in the pop-up.
While button 1 is held, the outline of the pop-up is ghost-drawn and
attached to the pointer.  The pop-up is moved to the new location when
button 1 is released.

% -----------------------------------------------------------------------------
% button2 060109
\subsection{Button 2 Operations}
\index{button 2}
\index{panning}
Button 2 a is usually the center button on a three-button pointing
device.  On two-button mice, the right button is typically button 3,
and button 2 is missing.  On some systems, pressing buttons 1 and 3
simultaneously will simulate a button 2 press.  {\Xic} provides
alternative ways to perform the button 2 operations, so that a
two-button pointing device can be used, but is a tiny bit less
efficient.

If button 2 is clicked in a drawing window, the window is redrawn with
the click location centered in the window.  If instead button 2 is
pressed and the pointer moved to a new location before release, the
window is redrawn with the press location moved to the release
location.  If there are multiple windows open, only the window under
the release will be redrawn.  Thus, for example to change the view in
a sub-window, press and hold button 2 while pointing at the desired
feature in the main (or another) window, then release button 2 while
pointing in the sub-window.  The sub-window will show the pointed-to
objects at the release location.

The same action will be initiated if button 3 is pressed while either
the {\kb Shift} or {\kb Ctrl} key is held down.  The key state when
button 3 is released does not matter.

\index{layer visibility}
In the layer menu, button 2 will switch the visibility of layers, as
indicated by the sample box.  Clicking button 2 on the individual
layers toggles their visibility.  Clicking button 2 on the small box
icon at the far right of the layer menu will toggle visibility of all
layers.  All layers will be set to visible or invisible according to
whether a majority of layers were originally invisible or visible,
respectively.

The behavior is a little different between physical and electrical
modes.  In physical mode, the screen will not be redrawn
automatically, unless the {\kb Shift} key is held during the button 2
press, but can be redrawn by clicking button 2 in the center of the
drawing window, or by pressing the {\kb Ctrl-r} key combination.

In electrical mode, the screen is automatically redrawn.  The SCED
(drawing) layer is always visible.  Instead of the visibility of this
layer being toggled, the fill setting is toggled between solid and
empty fill.

The same behavior is obtained by holding {\kb Shift} or {\kb Ctrl}
while clicking with button 1 in the layer menu.  If {\kb Shift} is
held, the screen will be redrawn automatically while in physical
mode.

% -----------------------------------------------------------------------------
% button3 022215
\subsection{Button 3 Operations}
\index{button 3}
\index{zooming}
Button 3 performs a zoom operation.  Draagging or clicking twice
defines diagonal corners of a rectangle to zoom into.  The window will
then display the contents of this area (after compensating for aspect
ratio).

If the same operation is done, but {\kb Ctrl} or {\kb Shift} is
pressed during the drag button-up or the second mouse click, operation
is different.  In this case, the area is marked by a dotted
highlighting box, and a subsequent button 3 press will complete the
operation.  A press in the same window will cause the area defined by
the first and second points to be shrunk by the ratio of the diagonals
of the rectangles defined by point 1, point 2 and point 1, point 3. 
To zoom in a lot, point 2 is much closer to point 1 than point 3 is to
point 1.  Alternatively, a button 3 press in a different window will
display the boxed area of the first window in the second window.

If {\kb Shift} or {\kb Ctrl} is held down before the initial button 3
press in a drawing window, a pan operation will be initiated instead
of the zoom, the same as if button 2 was pressed.

\index{blinking layers}
In the layer menu, button 3 enables layer blinking, if neither of {\kb
Shift} or {\cb Ctrl} is pressed.  Pressing and holding button 3 over a
layer entry in the layer table will cause that layer to blink
periodically in the drawing windows, while button 3 remains pressed. 
Layers that happen to have the same color as the selected blinking
layer will also blink, since the operation is sensitive only to the
layer color.

In combination with {\kb Shift} and {\kb Ctrl}, clicking with button 3
on a layer entry provides a shortcut:

\begin{itemize}
\item{{\kb Ctrl}-button 3 will set the current layer to the clicked-on
layer, and bring up the {\cb Color Selection} panel, loaded with that
layer's color.}

\item{{\kb Shift}-button 3 will set the current layer to the
clicked-on layer, and bring up the {\cb Fill Pattern Editor} loaded
with that layers pattern.}

\item{{\kb Ctrl-Shift}-button 3 will set the current layer to the
clicked-on layer, and bring up the {\cb Tech Parameter Editor}
targeted to the layer.}
\end{itemize}


% -----------------------------------------------------------------------------
% noopbutton 020715
\subsection{Button 4}

Support is provided for a fourth button for those pointing devices
which have four buttons.  Pressing button 4 does nothing except update
the coordinates displayed on-screen.  No action is performed.  This
can be simulated by holding the {\kb Ctrl}, {\kb Shift}, and {\kb Alt}
keys while pressing button 1.


% -----------------------------------------------------------------------------
% mousewheel 020715
\subsection{Mouse Wheel}

The GTK user interface provides support for mouse wheels.  Any window
that has scroll bars can be scrolled by moving the pointer {\it over a
scroll bar} and turning the mouse wheel.  The drawing windows, most
text windows and help viewer windows respond to the mouse wheel by
scrolling when the pointer is in the window, as well as over a scroll
bar (if any).  In drawing windows, scrolling will be horizontal if
{\kb Shift} is held, and if {\kb Ctrl} is held (which overrides {\kb
Shift}), the display will zoom in or out instead.  The mouse wheel
sensitivity can be changed with the {\et MouseWheel} variable.


% -----------------------------------------------------------------------------
% xic:mail 101515
\section{The {\cb WR} Button: Email Client}
\index{mail client}
\index{WR button}
\label{wrbutton}

{\bf Keyword}: {\vt mail}
\epsfbox{images/wr.eps}

The {\cb WR} button is located in the upper left corner of the {\Xic}
main window.  Pressing this button brings up a mail client window. 
The mail client can be used to send mail to any email address, though
when the panel appears, it is pre-loaded with the address of Whiteley
Research technical support.  The text field containing the address, as
well as the subject, can be changed.

% -----------------------------------------------------------------------------
% mailclient 010914
The main text window is a text editor with operations similar to the
text editor used elsewhere in {\Xic} and {\WRspice}.  The {\cb File}
menu contains commands to read another text file into the editor at
the location of the cursor ({\cb Read}), save the text to a file ({\cb
Save As}) and send the text to a printer ({\cb Print}).  When done,
the {\cb Send Mail} command in the {\cb File} menu is invoked to
actually send the message.  Alternatively, one can quit the mail
client without sending mail by pressing {\cb Quit}.

The {\cb Edit} menu contains commands to cut, copy, and paste text.

The {\cb Options} menu contains a {\cb Search} command to find a text
string in the text.  The {\cb Attach} command is used to add a {\et mime}
attachment to the message.  Pressing this button will cause prompting
for the name of a file to attach.  While the prompt pop-up is visible,
dragging a file into the mail client will load that file name into the
pop-up.  This is also true of the {\cb Read} command.  Attachments are
shown as icons arrayed along the menu bar of the mail client. 
Pressing the mouse button over an attachment icon will allow the
attachment to be removed.

In the Windows version, since Windows does not provide a reliable
interface for internet mail, the mail client and crash-dump report may
not work.  Mail is sent by passing the message to a Windows interface
called ``MAPI'', which in turn relies on another installed program to
actually send the mail.  In the past, the mail system is known to work
if Outlook Express is installed and configured as the ``Simple MAPI
mail client''.  It is unknown whether this is still an option with
recent Windows releases.

To get mail working in Windows 8, it was necessary to download and
install something called ``{\cb live mail}'' from Microsoft, which
eventually worked.  This application supports MAPI, apparently the
default Windows 8 Mail application does not.  The default Windows 8
Mail application also does not work with POP3 servers.


% -----------------------------------------------------------------------------
% topbuttons 020615
\section{Top Button Menu}
\index{top button menu}
\label{topbuttons}
The top button menu extends along the top of the {\Xic} main window,
just below the main menu bar.  This contains a number of buttons and
other controls.  In left-to-right order, these are described briefly
below, and in more detail in the sections that follow.

\begin{description}
\item{The {\cb lsearch} button and entry: find layer and set current}\\
The text entry displays the name of the current layer.  This entry
area and the adjacent button with the blue triangle icon can
perform a layer search by (partial) name.  Matching layers become
the current layer.

\item{The {\cb ltvis} button: show/hide layer table}\\
This button toggles visibility of the layer table.

\item{The {\cb lpal} button: show/hide layer palette}\\
This button controls visibility of the layer palette.

\item{The {\cb setcl} button:  set current layer form clicked-on
 object}\\
Pressing this button, then clicking on an object in a
drawing window will set the current layer to the layer of the object.

\item{The {\cb selcp} button: show/hide selection control panel}\\
This button controls the visibility of the {\cb Selection
Control} panel.

\item{The {\cb desel} button: deselect all objects}\\
Pressing this button will deselect all currently selected objects.

\item{The {\cb rdraw} button: redraw windows}\\
Pressing this button will redraw the main window, and all sub-windows
showing the same display mode (electrical or physical) as the main
window.

\item{The coordinates readout}\\
This window displays the coordinates of the mouse pointer.
\end{description}

% -----------------------------------------------------------------------------
% xic:lsrch 100312
\subsection{The {\cb lsrch} Button and Entry: Find Layer and Set Current}
\index{lsrch button}
\label{lsrch}

{\bf Keyword}: {\vt lsrch}\\

Just above the layer table, at the far left of the top button menu, is
a text entry area, with a button containing a blue triangle icon to
the left.  The name of the current layer is displayed in this area. 
This can be used to find layers by name.  One can enter the first few
characters of a layer name into the text area, then press the button
to the left.  The button icon will change to two triangles, and the
layer table will scroll to the first matching layer found (if any), as
the current layer.  Clicking the button a second and subsequent time
will scroll to the next and later matches.  Though the text in the
entry area will take on the selected layer name, the search string is
retained internally as long as the two-triangle icon is displayed on
the button.  This will revert to the single triangle after a few
seconds if not clicked.  When using the {\it layer\/}{\vt :}{\it
purpose} form, both the layer and purpose strings are handled
independently, and both can contain just the first few characters of
the actual layer and purpose names.

% -----------------------------------------------------------------------------
% xic:ltvis 100312
\subsection{The {\cb ltvis} Button: Show/Hide Layer Table}
\index{ltvis button}

{\bf Keyword}: {\vt ltvis}
\epsfbox{images/ltvis.eps}

The {\cb ltvis} button in the top button menu toggles display of the
layer table.  As the layer table occupies significant screen area, it
is sometimes useful to get rid of it to enable a larger main drawing
window.

Much of the functionality of the layer table is found in the layer
palette which in some ways is like a ``mini layer table'' containing
only a few chosen layers.  Even without the palette, one can switch
the current layer using the layer search capability, or the {\cb
setcl} button, both found in the top button menu.

% -----------------------------------------------------------------------------
% xic:lpal 022916
\subsection{The lpal Button: Show/Hide Layer Palette}

{\bf Keyword}: {\vt lpal}
\epsfbox{images/lpal.eps}

The {\cb lpal} button in the top button menu will bring up the layer
palette.  The layer palette is an adjunct to the layer table which
provides a means for quick access to a few ``important'' layers, and
prints information about layers.  This is particularly useful when
working with technologies containing a large number of layers, to
avoid hunting through the layer table.  When the mouse pointer hovers
over a layer indicator in the layer table or in the palette,
information about that layer is printed in the top part of the
palette.

The layer palette consists of three logical sections.  The top section
is a text area that displays information about the layer currently or
was last under the mouse pointer.  The user can move the pointer over
the layer icons in the layer table or the palette, and the palette
will display the information.  The information printed includes the
alias and description of the layer, and the GDSII mapping
layer/datatype numbers.

In the lower section, there are four rows of locations for layer
indicators.  The indicators in this section can be dragged and clicked
on in the same manner and same functionality as layers in the layer
table.  The top row contains layer indicators for the last five
choices of current layer.  This row is automatically updated whenever
the user selects a current layer by any means.

The three rows below can be filled by the user, by dragging/dropping
layers from the layer table, or from the top row in the palette. 
Layers in these rows can be dragged/dropped within the rows to change
the listing order.  A layer indicator can be removed from these rows
by pressing the {\cb Remove} button at the top of the panel, then
clicking on a layer indicator in this area.  The indicator will
disappear, and the {\cb Remove} button will become unselected.

In order to conserve space, only the index number of the layer in the
layer table is shown with the layer sample box in the layer palette. 
The layer's name and other information can be obtained by hovering
over the indicator with the mouse pointer.

The palette layers can be saved in one of seven registers and restored
later, with the {\cb Save} and {\cb Restore} buttons.  There are
separate registers for physical and electrical modes, so that the same
register number can be used in each mode.  The current palette is
saved when the palette is dismissed, and restored when the palette is
popped up again.

These registers are saved in a technology file created with the {\cb
Save Tech} button in the {\cb Attributes Menu}.  The corresponding
technology file keywords are {\vt PhysLayerPalette1} -- {\vt
PhysLayerPalette7} and {\vt ElecLayerPalette1} -- {\vt
ElecLayerPalette7}.  Each keyword can be set to a space-separated list
of layer names, representing the content and order of the layers in
the register.

% -----------------------------------------------------------------------------
% xic:setcl 062313
\subsection{The {\cb setcl} Button: Set Current Layer from Clicked-On Object}

{\bf Keyword}: {\vt setcl}
\epsfbox{images/setcl.eps}

The {\cb setcl} button in the top button menu allows setting the
current layer by clicking on objects in a drawing window.  The user
must first press the {\cb setcl} button, then click on an object in a
drawing window.  The current layer will be reset to the layer of that
object.  Without changing the mouse pointer location, clicking will
cycle through other layers of objects that were under the original
click location.  Additional clicks must come within a short period of
time, or the command will exit first.

% -----------------------------------------------------------------------------
% xic:selcp 100412
\subsection{The {\cb selcp} Button: Show/Hide Selection Control Panel}
\label{selcontrol}

{\bf Keyword}: {\vt selcp}
\epsfbox{images/selcp.eps}

The {\cb selcp} button in the top button menu displays the {\cb
Selection Control Panel} which provides a number of mode switches
which control object selection.

There are three ``radio button'' groups.  The {\cb Pointer Mode} group
sets the mode for selections initiated with button 1 while outside
of commands.  There are three choices:

\begin{description}
\item{\et Normal}\\ Standard select/modify behavior.
\item{\et Select}\\ Allow selections only.
\item{\et Modify}\\ Allow move/copy/stretch on selected objects only.
\end{description}

The {\cb Area Mode} group provides three modes for area (drag-over)
selections.

\begin{description}
\item{\et Normal}\\ Standard area selection behavior, objects are chosen
  if the object touches but does not completely cover the selection
  area.
\item{\et Enclosed}\\ Chosen objects must exist completely within the
  selection area.
\item{\et All}\\ Any object that touches the selection box is chosen.
\end{description}

The {\cb Selections} group modifies how chosen objects are processed.

\begin{description}
\item{\et Normal}\\ Standard behavior.
\item{\et Toggle}\\ Reverse the selected/deselected status of all chosen
  objects.
\item{\et Add}\\ Select all unselected objects chosen.
\item{\et Remove}\\ Deselect all selected objects chosen.
\end{description}

While selecting, and the {\cb Selections} group is {\et Normal},
during completion of the selection operation, the modifier keys are
recognized:

\begin{description}
\item{\kb Shift}\\ Select all unselected objects chosen.
\item{\kb Ctrl}\\ Deselect all selected objects chosen.
\item{\kb Shift-Ctrl}\\ Reverse the selected/deselected status of all
   objects chosen.
\end{description}

Thus, the {\et Toggle}/{\et Add}/{\et Remove} modes can be established
transiently with the modifier keys.  For area selection, the normal
operation is to toggle the selections.  For a point select (mouse
click), if more than one underlying object is selected, one of the
selected objects is deselected, and there is no new selection.

The {\cb Objects} group specifies the type of objects that can be
selected and deselected with mouse operations.  The buttons are
labeled {\cb Cells}, {\cb Boxes}, {\cb Polys}, {\cb Wires}, and {\cb
Labels}.  These buttons control whether or not the indicated type of
object can be selected or deselected with the mouse.  This is useful,
for example, when one needs to select cells that are covered by
geometric objects, since the geometric objects will always be selected
with a mouse click, and not the cells.

\index{layer search order}
Normally, when scanning through the database for objects that are
within the selection area, layers are searched from logical top to
bottom.  The logical top layer is the last layer listed in the layer
table (i.e., at the bottom).  Thus, in some modes objects on upper
layers will be selected preferentially over objects on lower layers. 
If the {\cb Search Up} button is active, this ordering is reversed,
layers are searched from logical bottom to top, or top to bottom as
listed in the layer table.

In the extraction system, the search order will affect the default
association of terminals to layers.  It also applies to the operations
in the {\cb Path Selection Control} panel.


% -----------------------------------------------------------------------------
% xic:desel 101212
\subsection{The {\cb desel} button: Deselect Objects}
\index{deselect objects}
\index{desel button}

{\bf Keyword}: {\vt desel}
\epsfbox{images/desel.eps}

Pressing the {\cb desel} button will deselect all of the currently
selected objects.  Individual or groups of objects can be deselected
by selecting them a second time with the mouse.  When not in a command
mode, pressing the {\kb Esc} key will also deselect all selected
objects.


% -----------------------------------------------------------------------------
% xic:rdraw 020615
\subsection{The {\cb rdraw} button: Redraw Windows}
\index{redraw windows}
\index{redraw button}

{\bf Keyword}: {\vt rdraw}
\epsfbox{images/rdraw.eps}

Pressing this button will redraw the main window, and any sub-windows
that are showing the same display mode (electrical or physical).  The
drawing window with keyboard focus can also be redrawn by typing {\kb
Ctrl-r}.  Clicking with button 2 near the center of the window is yet
another way to force a redraw.  After most operations, the windows are
automatically redrawn, so forcing a redraw is not often needed. 
Exceptions are when changing layer colors and fill patterns.


% -----------------------------------------------------------------------------
% coordline 101212
\subsection{Coordinates Display}
\index{coordinate readout area}

Just above the {\Xic} main drawing window is an area where
pointer coordinates are printed.  The coordinates are given in
microns, relative to the internal coordinate system.  In physical
mode, the origin is indicated on-screen.  The first row in the
coordinate display is the current location of the pointer.  The second
row is the location of the last button press event.  The third row is
the delta between the current position and the last button press
event.


% -----------------------------------------------------------------------------
% mainwindow 021812
\section{Main Drawing Window}
\index{drawing window}
The main drawing window occupies the largest section of the visible
user interface.  This is the primary presentation and work area for
editing.  The main drawing window supports drag and drop as a drop
receiver for files.

Drawing windows respond to a number of button operations and key
presses to pan and zoom.  See the sections on button and key
operations for a complete description.  In addition, drawing windows
respond to mouse wheel events.  The basic action is vertical
scrolling, however if {\kb Shift} is held, the window will scroll
horizontally.  If {\kb Ctrl} is held (which overrides {\kb Shift})
the display will zoom in or out.  The mouse wheel sensitivity can be
changed with the {\et MouseWheel} variable.


% -----------------------------------------------------------------------------
% dragdrop 020715
\index{drag and drop}
{\Xic} supports standard drag and drop protocols.  One is able to drag
files from many file manager programs into the main window of {\Xic},
and that file will be loaded into {\Xic}.  The {\cb File Selection}
panel from the {\cb File Select} button in the {\cb File Menu}, and
the {\cb Files Listing} pop-up from the {\cb Files List} button in the
{\cb File Menu}, participate in the protocols as sources and
receivers.  The text editor and mail client pop-ups, among others, are
drop receivers.  While in text editing mode, the prompt line is a drop
receiver, and drops in the main window are redirected to the prompt
line when editing mode is active.  Most of the pop-ups in {\Xic} which
solicit a text string are also drop receivers.

The file must be a standard file on the same machine.  If it is from a
tar file, or on a different machine, first drag it to the desktop or
to a directory, then into {\Xic}.  The GNOME {\et gmc} file manager
allows one to view the contents of tar files, etc.~as a ``virtual file
system''.  {\et Window Maker} and {\et Enlightenment} window managers,
at least, are drag/drop aware.

Most of the listing pop-ups in {\Xic} are drag sources, i.e., one can
drag the name from the listing and drop it in a drawing window.

When a window is displaying cells from a Cell Hierarchy Digest (CHD),
meaning that the {\cb Display} button in the {\cb Cell Hierarchy
Digests} panel is engaged, the dropped cell name must match a cell
name in the CHD.  If not, an error message will appear.  Otherwise,
the display will switch to the dropped cell as the root.  Changing the
display root does {\it not} change the default cell of the CHD.  In
this mode, nothing new is brought into program memory.

In normal display mode, the window will open the cell or file dropped. 
The dropped object can be of various types, depending on the source: 
file names, cell names from memory, cell names from a CHD, and library
references are all possible.  If the dropped object does not suggest
an unambiguous cell, a pop-up will appear requesting that the user
make a selection from a given listing.  This may happen, for example,
when a dropped file name contains more than one top-level cell, or the
dropped name is a library containing multiple references.

A dropped file name will cause the file to be read into memory, and
the top-level cell will be displayed.  A cell name from a CHD will
cause the cell and its hierarchy to be extracted from the CHD's source
and loaded into memory, and the given cell will be displayed.  Library
references that point to a cell will likewise be brought into memory,
and the referenced cell will be displayed.  A cell name will simply
display that cell, which if not already in memory, will be opened
through the library and search path mechanism, or created internally
as an empty cell if unresolved.

If dropped into the main drawing window, the displayed cell becomes
the current cell for editing and selections.  If dropped in a
sub-window, the cell will be displayed, but can not be edited if it is
different from the current cell (the cell shown in the main drawing
window).


% -----------------------------------------------------------------------------
% layers 032017
\section{{\Xic} Layers}

In {\Xic}, boxes, polygons, and other objects are created on {\it
layers\/}.  These often correspond to mask levels in a fabrication
process, but the actual interpretation is up to the user.

Most often, layers are defined in the technology file, and these are
shown within {\Xic} in the layer table.  One of the layers is selected
as the ``current layer'', which is used for drawing objects.

Layers have an order, as shown in the layer table display.  Layers
that come later in the listing are considered to be ``above'' the
layers listed earlier.  This is reflected in how layouts are drawn
on-screen and in plots, as the fill (if any) of a layer will obscure
the lower layers.

Historically, {\Xic} has used a very simple model for layers based on
CIF.  In this model, each layer has a unique name of four characters
or fewer.

Starting with the {\Xic}-3.3 branch, the OpenAccess model is used. 
This provides fundamental compatibility with design tools based on the
OpenAccess database, including Cadence Virtuoso.  However, it is a bit
more complicated.

The word ``layer'' now has two meanings.  This is unfortunate, but the
meaning should be clear in context.  First, there are the {\Xic}
layers we have mentioned.  Second, there is the concept of a component
(or OpenAccess) layer.  In OpenAccess, layer names are associated with
layer numbers, forming an abstraction that can be identified by name
or number.  OpenAccess also similarly defines another abstract type
called the ``purpose''.  Again, there are purpose names and purpose
numbers, and an abstraction identifiable by name or number.  In order
to draw an object in OpenAccess, one requires a layer and a purpose. 
A layer and a purpose in OpenAccess is called a layer/purpose pair
(LPP).  An LPP is actually what corresponds to an {\Xic} layer.

In {\Xic}, there is a default purpose, with name ``{\vt drawing}''. 
When a purpose name is not explicitly specified, this purpose will be
assumed.

Every {\Xic} layer has a component layer name and purpose.  The name
of an {\Xic} layer is given or printed in the form
\begin{quote}
{\it component\_layer\/}[{\vt :}{\it purpose\/}]
\end{quote}
If the purpose name is ``{\vt drawing}'', then it is not printed or
given explicitly.  Otherwise, the purpose is separated from the
component layer name by a colon ('{\vt :}') character.  Note that when
the purpose is ``{\vt drawing}'', the {\Xic} layer name is simply the
component layer name, so if the only purpose used is ``{\vt
drawing}'', the distinction between OpenAccess and {\Xic} layer names
vanishes.

Example {\Xic} layer names:
\begin{quote}\vt
m1\\
m1:pin
\end{quote}
The first name corresponds to component layer name {\vt m1} and
purpose {\vt drawing}.  The second example uses a purpose named ``{\vt
pin}''.

In {\Xic}, layer names of both types, and purpose names, are always
recognized and treated without case-sensitivity.  There is no limit on
the length of these names.  Component layer and purpose names can
contain alphanumeric characters plus dollar sign ('{\vt \$}') and
underscore ('{\vt \_}').

All of the component layer and purpose names also have corresponding
numbers.  These may be assigned by the user, or assigned internally by
{\Xic}.  {\Xic} will maintain the associations, but the numbers are
not used by {\Xic}.  They are, however, important for compatibility
with other tools.

All {\Xic} layers may be given an alias name.  The layer will be
recognized by this name, as well as its normal name.  {\Xic} layers
may also contain a description string, presentation attributes such as
color and fill pattern, and a host of other flags and properties for
use within {\Xic}.


% -----------------------------------------------------------------------------
% layertab 022215
\section{Layer Table}
\index{layer table}

The layer table is arrayed vertically to the left of the main drawing
window.  If layers have been specified to {\Xic}, they will be shown
in this area.  If there are more layers than space available for
display, a scroll bar is provided.  There is no limit on the number of
layers that can be defined in {\Xic}.  Separate layer tables are
provided for electrical and physical modes.

The ``grip'' that separates the layer table from the main drawing
window can be dragged to change the layer table width.

To the left of each entry sample box are indicators that when clicked
on will toggle either the visibility or selectability of that layer. 
If the layer is not visible, objects on that layer will not be shown
in layout images.  It the layer is not selectable, objects on the
layer can't be selected.

To the right of the sample box are the layer name and purpose names.

When the layer is not visible, the sample box is not drawn, and the
green ``{\vt v}'' indicator becomes a red ``{\vt nv}''.  Layers with
the {\vt Invisible} technology file keyword will by default be
invisible.  If the layer is not selectable, the layer name / purpose
name area is shown with a dark background, and the green ``{\vt s}''
indicator becomes a red ``{\vt ns}''.  Layers with the {\vt NoSelect}
technology file keyword will by default be non-selectable.

Visibility can be toggled by clicking on the {\vt v}/{\vt nv}
indicator with button 1, or by clicking in the sample box area with
button 2, or by clicking anywhere in the entry with button 1 and the
{\kb Shift} key held.

In releases earlier than 4.1.6, a layer visibility change would not
automatically redraw the screen in physical mode.  This is ancient
behavior intended to accommodate slow screen redraws.  When several
layer visibility changes are to be made, one can make the changes and
then force a screen redraw.  This seems to be unnecessary on newer
computers, which render very quickly, so the updating is now
automatic.  There is a variable, {\et NoPhysRedraw}, that if set will
revert to the original behavior of no automatic redraw in physical
mode, if the user prefers this.

Pressing {\kb Shift} along with clicking button 2 in the sample box
area will suppress redraw if the variable is not set.  If the variable
is set, then the {\kb Shift}-click will redraw tha main window and all
similar sub-windows after the operation.  The drawing window that has
the keyboard focus can be redrawn by pressing {\kb Ctrl-r}.  The {\cb
rdraw} button to the left of the coordinate readout will redraw the
main window and all similar sub-windows.

In electrical mode, the SCED layer, which is the electrical mode
active wiring layer, is always visible.  Instead, of toggling
visibility of this layer, the button presses will toggle between solid
and empty fill.

Selectability can be toggled by clicking on the {\vt s}/{\vt ns}
indicator with button 1, or by clicking in the layer name/purpose name
area with button 2, or by clicking anywhere on the entry with button 1
and the {\kb Ctrl} key held.

One can also toggle the visibility and selectability states of all
layers except for the current layer.  At the bottom of the layer
table, there are two gray areas labeled ``{\vt vis}'' and ``{\vt
sel}''.

Clicking the ``{\vt vis}'' area with button 1 or button 2 will switch
all layers except for the current layer to invisible, and back.  The
comment above regarding window redraw in physical mode applies here as
well.  If {\kb Shift} is held while clicking, the current redrawing
behavior is reversed.  When switching back to ``all layers visible'',
layers with the {\vt Invisible} keyword applied in the technology file
will remain invisible.

Similarly, clicking the ``{\vt sel}'' area will switch all layers
except for the current layer to non-selectable and back.  When
switching back to ``all layers selectable'', layers with the {\vt
NoSelect} keyword applied in the technology file will remain
non-selectable.

Button 3 enables layer blinking, if neither of {\kb Shift} or {\cb
Ctrl} is pressed.  Pressing and holding button 3 over a layer entry in
the layer table will cause that layer to blink periodically in the
drawing windows, while button 3 remains pressed.  Layers that happen
to have the same color as the selected blinking layer will also blink,
since the operation is sensitive only to the layer color.

In combination with {\kb Shift} and {\kb Ctrl}, clicking with button 3
on a layer entry provides a shortcut:

\begin{itemize}
\item{{\kb Ctrl}-button 3 will set the current layer to the clicked-on
layer, and bring up the {\cb Color Selection} panel, loaded with that
layer's color.}

\item{{\kb Shift}-button 3 will set the current layer to the
clicked-on layer, and bring up the {\cb Fill Pattern Editor} loaded
with that layers pattern.}

\item{{\kb Ctrl-Shift}-button 3 will set the current layer to the
clicked-on layer, and bring up the {\cb Tech Parameter Editor}
targeted to the layer.}
\end{itemize}

\index{current layer}
The current layer is shown with a blue highlighting box.  Clicking
on a layer entry with button 1 will make it the current layer.
The current layer is used when creating objects in the layout.

One can also search for a layer to set as the current layer by name. 
Just above the layer table is a text entry area, with a button
containing a blue triangle icon to the left.  The name of the current
layer is displayed in this area.  This can be used to find layers by
name.  One can enter the first few characters of a layer name into the
text area, then press the button to the left.  The button icon will
change to two triangles, and the layer table will scroll to the first
matching layer found (if any), as the current layer.  Clicking the
button a second and subsequent time will scroll to the next and later
matches.  Though the text in the entry area will take on the selected
layer name, the search string is retained internally as long as the
two-triangle icon is displayed on the button.  This will revert to the
single triangle after a few seconds if not clicked.  When using the
{\it layer\/}{\vt :}{\it purpose} form, both the layer and purpose
strings are handled independently, and both can contain just the first
few characters of the actual layer and purpose names.

The current layer can also be set with the {\cb setcl} button in the
top button menu.  If one presses this button, then clicks on an object
in a drawing window (the object must be contained in the current
cell), the current layer will be changed to the object's layer.  All
of the rules for selections apply when interpreting which object will
specify the layer, and in particular the object must be selectable.

The {\cb ltvis} button in the top button menu will toggle the
visibility of the layer table.  The layer table takes a lot of screen
area, and often it is not needed.  The layer palette can be used
instead to provide access to a few chosen layers.


% -----------------------------------------------------------------------------
% statusline 012016
\section{Status Display}
\index{status area}

The status area is located below the prompt line.  This area provides
information about current program modes.  It displays the technology
name from the technology file, if any, the current cell name, the grid
spacing, the snap number if not 1, the number of objects selected if
any, and the level of subedit in a {\cb Push}, if in a subedit.  Also
displayed is a mode keyword, or ``{\vt MAIN}'', and a code
representing the current transform if set.  If the current cell has
been modified and not saved to disk, ``{\vt Mod}'' will appear in the
status area in colored text.  If the current cell has the IMMUTABLE
flag set, ``{\vt RO}'' (for ``read only'') will appear.  If the
physical grid origin is not 0,0 (set with the {\et PhysGridOrigin}
variable), ``{\vt PhGridOffs}'' will be displayed in colored text.

Dragging over text in the status display with button 1 held down will
select the text.  Clicking on a word with button 1 will select the
word.  Selected text is available for export to other windows, as the
primary selection in Unix/Linux, or from the clipboard in Windows. 
Under Windows, the selection is copied to the Windows clipboard
automatically.


% -----------------------------------------------------------------------------
% textentry 040913
\section{Text Entry Windows}
\index{text entry windows}

The GTK interface provides single and multi-line text entry windows
for use in the graphical interface.  These entry areas use a common
set of key bindings (see \ref{textkeybind}) and respond to and use the
system clipboard (see \ref{clipboard}) and other selection mechanisms
in the same way.


% onelineentry 040913
\subsection{Single-Line Text Entry}

In many operations, text is entered by the user into single-line
text-entry areas that appear in pop-up windows.  These entry areas
provide a number of editing and interprocess communication features
which will be described in subsequent sections.

In both Unix/Linux and Windows, the single-line entry is typically
also a receiver of drop events, meaning that text can be dragged form
a drag source, such as the {\cb File Manager}, and dropped in the
entry area by releasing button 1.  The dragged text will be inserted
into the text in the entry area, either at the cursor or at the drop
location, depending on the implementation.


% xeditor 040913
\subsection{The Text Editor}
\label{textedit}
\index{text editor}

The graphical interface provides a general-purpose text editor window. 
It is used for editing text files or blocks, and may be invoked in
read-only mode for use as a file viewer.  In that mode, commands which
modify the text are not available.

This is not the world's greatest text editor, but it
works fine for quick changes and as a file viewer.  For
industrial-strength editing, a favorite stand-alone text editor is
probably a better choice. 

The following commands are found in the {\cb File} menu of the
editor.  Not all of these commands may be available, for example the
{\cb Open} button is absent when editing text blocks.

\begin{description}
\item{\cb Open}\\
Bring up the {\cb File Selection} panel.  This may be used to select a
file to load into the editor.  This is the same file manager available
from the {\cb File Select} button in the {\Xic} {\cb File Menu}.

\item{\cb Load}\\
Bring up a dialog which solicits the name of a file to edit.  If the
current document is modified and not saved, a warning will be issued,
and the file will not be loaded.  Pressing {\cb Load} a second time
will load the new file, discarding the current document.

\item{\cb Read}\\
Bring up a dialog which solicits the name of a file whose text is to
be inserted into the document at the cursor position.

\item{\cb Save}\\
Save the document to disk, or back to the application if editing a
text block under the control of some command.

\item{\cb Save As}\\
Pop up a dialog which solicits a new file name to save the current
document under.  If there is selected text, the selected text will be
saved, not the entire document.

\item{\cb Print}\\
Bring up a pop-up which enables the document to be printed to a
printer, or saved to a file.

\item{\cb Write CRLF}\\
This menu item appears only in the Windows version.  It controls the
line termination format used in files written by the text editor.  The
default is to use the archaic Windows two-byte (DOS) termination.  If
this button is unset, the more modern and efficient Unix-style
termination is used.  Older Windows programs such as Notepad require
two-byte termination.  Most newer objects and programs can use either
format, as can the {\XicTools} programs.

\item{\cb Quit}\\
Exit the editor.  If the document is modified and not saved, a warning
is issued, and the editor is not exited.  Pressing {\cb Quit} again
will exit the editor without saving.

The editor can also be dismissed with the window manager ``dismiss
window'' function, which may be an `{\cb X}' button in the title bar. 
This has the same effect as the {\cb Quit} button.
\end{description}

The editor is sensitive as a drop receiver.  If a file is dragged into
the editor and dropped, and neither of the {\cb Load} or {\cb Read}
dialogs is visible, the {\cb Load} dialog will appear with the name of
the dropped file preloaded into the dialog text area.  If the drop
occurs with the {\cb Load} dialog visible, the dropped file name will
be entered into the {\cb Load} dialog.  Otherwise, if the {\cb Read}
dialog is visible, the text will be inserted into that dialog.

If the {\kb Ctrl} key is held during the drop, and the text is not
read-only, the text will instead be inserted into the document at the
insertion point.

The following commands are found in the {\cb Edit} menu of the
text editor.

\begin{description}
\item{\cb Undo}
This will undo the last modification, progressively.  The number of
operations that can be undone is unlimited.

\item{\cb Redo}
This will redo previously undone operations, progressively.
\end{description}

The remaining entries allow copying of selected text to and from other
windows.  These work with the clipboard provided by the operating
system, which is a means of transferring a data item between windows
on the desktop (see \ref{clipboard}).

\begin{description}
\item{\cb Cut to Clipboard}\\
Delete selected text to the clipboard.  The accelerator {\kb Ctrl-x}
also performs this operation.  This function is not available if the
text is read-only.

\item{\cb Copy to Clipboard}\\
Copy selected text to the clipboard.  The accelerator {\kb Ctrl-c}
also performs this operation.  This function is available whether or
not the text is read-only.

\item{\cb Paste from Clipboard}\\
Paste the contents of the clipboard into the document at the cursor
location.  The accelerator {\kb Ctrl-v} also performs this operation. 
This function is not available if the text is read-only.

\item{\cb Paste Primary} (Unix/Linux only)\\
Paste the contents of the primary selection register into the document
at the cursor location.  The accelerator {\kb Alt-p} also performs
this operation.  This function is not available if the text is
read-only.
\end{description}

The following commands are found in the {\cb Options} menu of the
editor.

\begin{description}
\item{\cb Search}\\
Pop up a dialog which solicits a regular expression to search for in
the document.  The up and down arrow buttons will perform the search,
in the direction of the arrows.  If the {\cb No Case} button is
active, case will be ignored in the search.  The next matching text in
the document will be highlighted.  If there is no match, ``not found''
will be displayed in the message area of the pop-up.

The search starts at the current text insertion point (the location of
the I-beam cursor).  This may not be visible if the text is read-only,
but the location can be set by clicking with button 1.  The search
does not wrap.

\item{\cb Font}\\
This brings up a tool for selecting the font to use in the text
window.  Selecting a font will change the present font, and will set
the default font for new text editor class windows.  This includes the
file browser and mail client pop-ups.
\end{description}

The GTK interface provides a number of default key bindings (see
\ref{textkeybind}) which also apply to single-line text entry windows. 
These are actually programmable, and the advanced user may wish to
augment the default set locally.


% clipboard 040913
\subsection{Selections and Clipboards}
\label{clipboard}
 
Under Unix/Linux, there are two similar data transfer registers:  the
``primary selection'', and the ``clipboard''.  both correspond to
system-wide registers, which can accommodate one data item (usually a
text string) each.  When text is selected in any window, usually by
dragging over the text with button 1 held down, that text is
automatically copied into the primary selection register.  The primary
selection can be ``pasted'' into other windows that are accepting text
entry.

The clipboard, on the other hand, is generally set and used only by
the GTK text-entry widgets.  This includes the single-line entry used
in many places, and the multi-line text window used in the text editor
(see \ref{textedit}), file browser, and some other places including
error reporting and info windows.  From these windows, there are key
bindings that cut (erase) or copy selected text to the clipboard, or
paste clipboard text into the window.  The cut/paste functions are
only available if text in the window is editable, copy is always
available.

Under Windows there is a single ``Windows clipboard'' which is a
system-wide data-transfer register that can accommodate a single data
item (usually a string).  This can be used to pass data between
windows.  In use, the Windows clipboard is somewhat like the
Unix/Linux clipboard.
 
Text in most text display windows can be selected by dragging with
button 1 held down, however the selected text is not automatically
added to the Windows clipboard.  On must initiate a {\cb cut} or {\cb
copy} operation in the window to actually save the selected text to
the Windows clipboard.  The ``copy to clipboard'' accelerator
{\kb Ctrl-c} is available from most windows that present highlighted
or selected text.  Note that there is no indication when text is
copied to the clipboard, the selected text in all windows is
unaffected, i.e., it won't change color or disappear.  The user must
remember which text was most recently copied to the Windows clipboard.

Clicking with button 2 will paste the primary selection into the line
at the click location, if the window text is editable.

Clicking with button 3 will will bring up a context menu.  From the
menu, the user can select editing operations.

The GTK interface hides the details of the underlying selection
mechanisms, creating a consistent interface under Windows or
Uniix/Linux.  There is one important difference, however:  in Windows,
the primary selection applies only to the program containing the
selection.  In Unix/Linux, the primary selection applies to the entire
desktop,


% textkeybind 010914
\subsection{GTK Text Input Key Bindings}
\label{textkeybind}

The following table provides the key bindings for editable text entry
areas in GTK-2.  However, be advised that these bindings are
programmable, and may be augmented or changed by installation of a
local theme.

\begin{longtable}{lp{4in}}\\
\multicolumn{2}{l}{\bf GTK Text-Entry Key Bindings}\vspace{1.5ex}\\
\kb Ctrl-a & Select all text\\
\kb Ctrl-c & Copy selected text to clipboard\\
\kb Ctrl-v & Paste clipboard at cursor\\
\kb Ctrl-x & Cut selection to clipboard\\
\kb Home & Move cursor to beginning of line\\
\kb End & Move cursor to end of line\\
\kb Left & Move cursor left one character\\
\kb Ctrl-Left & Move cursor left one word\\
\kb Right & Move cursor right one character\\
\kb Ctrl-Right & Move cursor right one word\\
\kb Backspace & Delete previous character\\
\kb Ctrl-Backspace & Delete previous word\\
\kb Clear & Delete current line\\
\kb Shift-Insert & Paste clipboard at cursor\\
\kb Ctrl-Insert & Copy selected text to clipboard\\
\kb Delete & Delete next character\\
\kb Shift-Delete & Cut selected text to clipboard\\
\kb Ctrl-Delete & Delete next word\\
\end{longtable}

Clicking with button 1 will move the cursor to that location.  Double
clicking will select the clicked-on word.  Triple clicking will select
the entire line.  Button 1 is also used to select text by dragging the
pointer over the text to select.

Clicking with button 2 will paste the primary selection into the line
at the click location, if the window text is editable.

Clicking with button 3 will will bring up a context menu.  From the
menu, the user can select editing operations.

These operations are basically the same in Windows and Unix/Linux,
with one important difference:  in Windows, the primary selection
applies only to the program containing the selection.  In Unix/Linux,
the primary selection applies to the entire desktop, like the
clipboard.

\index{unicode}
Special characters can be entered using the Unicode escape {\kb
Ctrl-u}.  The sequence starts by pressing {\kb Ctrl-u}, then entering
hex digits representing the character code, and is terminated with a
space character or {\kb Enter}.  The Unicode coding can be obtained
from tables provided on the internet, or from applications such as
KCharSelect which is part of the KDE desktop.  These are generally
expressed as ``{\vt U + xxxx}'' where the {\vt xxxx} is a hex number. 
It is the hex number that should be entered following {\kb Ctrl-u}. 
For example, the code for ${\pi}$ (pi) is {\vt 03c0}.  Note that
special characters can also be selected and copied, or in some cases
dragged and dropped, from another window.

