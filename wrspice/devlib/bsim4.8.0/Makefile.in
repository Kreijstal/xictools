#######################################################################
# devlib/bsim4.7.0/Makefile.in
#######################################################################
# $Id: Makefile.in,v 1.4 2015/10/04 20:05:29 stevew Exp $
#######################################################################

DEVLIB_VERSION = @DEVLIB_VERSION@
DATE = @DATE@
OSNAME = @OSNAME@

CC = @CC@
CXX = @CXX@
LINKCC = @LINKCC@
CFLAGS = @CFLAGS_S@ @UFLAGS@
LSHFLAG = @LSHFLAG@
DEPEND_PROG = @DEPEND_PROG@ @CFLAGS_S@
FILTER = @FILTER@
PIC_OPT = @PIC_OPT@
SOEXT = @SOEXT@
DEVWINDLL = @DEVWINDLL@
MKMOD = @MKMOD@

MODULE = bsim480
TARGET = $(MODULE).$(SOEXT)
HFILES = b4defs.h
CFILES =
CCFILES = b4.cc b4acld.cc b4aski.cc b4askm.cc b4check.cc b4conv.cc b4geo.cc \
  b4ic.cc b4load.cc b4nois.cc b4pzld.cc b4set.cc b4seti.cc b4setm.cc \
  b4temp.cc b4trun.cc
COBJS = $(CCFILES:.cc=.o) $(CFILES:.c=.o)
INCLUDE = -I../include
DEFS = -D__WRMODULE__=$(MODULE) -D__WRVERSION__=$(DEVLIB_VERSION)

$(TARGET): $(COBJS)
	@if [ $(MKMOD) == 1 ]; then \
	    $(LINKCC) -o $(TARGET) $(LSHFLAG) $(COBJS) $(DEVWINDLL); \
	fi    

.cc.o:
	$(CXX) $(CFLAGS) $(PIC_OPT) $(INCLUDE) $(DEFS) -c $*.cc

.c.o:
	$(CC) $(CFLAGS) $(PIC_OPT) $(INCLUDE) $(DEFS) -c $*.c

depend:
	@echo depending in devlib/bsim4.8.0
	@if [ x$(DEPEND_DONE) = x ]; then \
	    echo DEPEND_DONE = 1 >> Makefile; \
	    if [ "z$(CCFILES)" != "z" ]; then \
	        for a in $(CCFILES); do \
	            $(DEPEND_PROG) $(INCLUDE) $$a $(FILTER)>> Makefile; \
	        done \
	    fi; \
	    if [ "z$(CFILES)" != "z" ]; then \
	        for a in $(CFILES); do \
	            $(DEPEND_PROG) $(INCLUDE) $$a $(FILTER)>> Makefile; \
	        done \
	    fi; \
	fi

clean:
	-@rm -f $(COBJS) $(TARGET)

distclean: clean
	-@rm -f Makefile

modname:
	@echo $(MODULE)

#######################################################################
